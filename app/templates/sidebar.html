<style type="text/css">
.sidebarContent {
    height: 400px;
    width: 100%;
    overflow-y: auto;
    margin: 0px !important;
    border: none !important;
    border-radius: 0px !important;
    background: none !important;
    box-shadow: none !important;
}

.sidebarHeadTab {
    box-shadow: none !important;
    border: 0px !important;
    border-bottom: 1px solid #ccc !important;
    border-radius: 0px !important;
}

.sidebarHeadTab .item {
    padding: 0px !important;
}

.sidebarHeadTab .item.active {
    background-color: #D7D7D7 !important;
    border-radius: 0px !important;
}

a.item.at-menu-item.popup-item.active {
    background-color: #D7D7D7 !important;
}

</style>
<div ng-show="selectedConfigCategory == 'settings'">
    <div class="ui mini compact menu item sidebarConfig sidebarHeadTab three">
        <a class="item active" id="settingsTab" data-tab="settings" ng-click="fireEvent({id: 'config:customize'}); fireSidebarTelemetry({id: 'customise'}, 'config')"><i class="setting icon"></i> Customise </a>
        <a class="item {{selectedObjectForConfig == 'stage' ? 'disabled' : ''}}" data-tab="actions" ng-click="fireEvent({id: 'config:actions'}); fireSidebarTelemetry({id: 'actions'}, 'config')" ng-disabled="selectedObjectForConfig == 'stage'"><i class="tasks icon"></i> Actions </a>
        <a class="item" data-tab="info" ng-click="fireEvent({ id: 'config:properties'}); fireSidebarTelemetry({id: 'properties'}, 'config')"><i class="info icon"></i> Properties </a>
    </div>
    <div class="ui active tab segment sidebarContent" data-tab="settings">
        <span ng-repeat="config in pluginConfig" ng-include="'templates/config.html'"></span>
    </div>
    <div class="ui tab segment sidebarContent" data-tab="actions">
        <span ng-include="'templates/events.html'"></span>
    </div>
    <div class="ui tab segment sidebarContent" data-tab="info" style="padding: 10px !important">
        <span ng-include="'templates/properties.html'"></span>
    </div>
</div>
<div ng-show="selectedConfigCategory == 'help'" class="sidebar-help">
    <div id="pluginHelpContent" class="ui message"></div>
</div>
<div ng-show="selectedConfigCategory == 'comments'">
    <div class="row">
        <div class="todoHolder ui message" style="overflow:auto;max-height:500px;">
            <div class="pageLevelTodos">
                <div class="content {{showTodo ? 'active': ''}}">
                    <div class="description">
                        <div id="pageLevelTodos"></div>
                    </div>
                </div>
            </div>
            <div class="ui hidden divider"></div>
            <div class="pageLevelResolvedTodos">
                <div class="content {{showTodo ? 'active': ''}}">
                    <div class="description">
                       <div id="pageLevelResolvedTodos"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div ng-show="selectedConfigCategory == 'developer'">
        <div  style="padding: 10px !important">
            <form class="ui  form">
                <div class="inline field">
                    <input type="text" placeholder="Eg: https://localhost:8080/" ng-model="localServerPath" ng-show="localServerPathEdit" />
                    <a class="ui big label" ng-show="!localServerPathEdit">
                      {{localServerPath}}
                    </a>
                    <buttton class="ui  right floated icon button" " ng-click="localServerPathEdit=true; " ng-show="!localServerPathEdit ">
                        <i class="write icon "></i>
                    </buttton>
                    <buttton class="ui right floated icon button " ng-click="fireEvent({ 'id': 'org.ekstep.developer:updateLocalServerPath', 'data':{'path': localServerPath}});localServerPathEdit = false;" ng-show="localServerPathEdit">
                        <i class="checkmark icon "></i>
                    </buttton>
                </div>
            </form>
            <div class="contributed-plugins-list {{(localPlugins.length===0 || contributedPluginMessageClass==='error' )? 'no-plugins': ''}} ">
                <table class="ui very basic table ">
                    <thead>
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="plugin in localPlugins ">
                            <td>
                                <img ng-src="{{localServerPath}}{{plugin}}/favicon.ico "/>
                            </td>
                            <td>
                                <span title="{{plugin}} ">{{plugin | limitTo:20 }}</span>
                                <span ng-if="plugin.length> 20">...</span>
                            </td>
                            <td>
                                <div class="ui primary icon mini     button" ng-click="fireEvent({'id':'org.ekstep.developer:loadplugin', 'data': {'plugin': plugin}})">
                                    <i class="repeat icon"></i>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="ui {{contributedPluginMessageClass}} mini message" ng-if="contributedPluginMessage">{{contributedPluginMessage}}</div>
    </div>
</div>
<div class="sidebar-reportissue" style="position: fixed; right: 0; bottom: 0;width: 100%;margin-bottom: 10px;">
    <a class="ui basic small button" ng-click="fireSidebarTelemetry({id: 'reportIssue'}, 'reportIssueButton')" ng-href="{{reportIssueLink}}" target="_blank" style="position: absolute; bottom:0; right: 30px"><i class="help circle medium icon"></i>Report an issue</a>
</div>
<script type="text/javascript">
$('.sidebarConfig .item, .sidebarHelp .item').tab({
    history: false
});
</script>
