!function(a){"object"==typeof exports&&"undefined"!=typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Ajv=a()}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d=b.exports=function(){this._cache={}};d.prototype.put=function(a,b){this._cache[a]=b},d.prototype.get=function(a){return this._cache[a]},d.prototype.del=function(a){delete this._cache[a]},d.prototype.clear=function(){this._cache={}}},{}],2:[function(a,b,c){"use strict";var d=a("./error_classes").MissingRef;b.exports=function a(b,c,e){function f(b){var c=b.$schema;return c&&!h.getSchema(c)?a.call(h,{$ref:c},!0):Promise.resolve()}function g(a){try{return h._compile(a)}catch(i){if(i instanceof d)return function(b){function d(){delete h._loadingSchemas[i]}function e(a){return h._refs[a]||h._schemas[a]}var i=b.missingSchema;if(e(i))throw new Error("Schema "+i+" is loaded but "+b.missingRef+" cannot be resolved");var j=h._loadingSchemas[i];return j||(j=h._loadingSchemas[i]=h._opts.loadSchema(i)).then(d,d),j.then(function(a){if(!e(i))return f(a).then(function(){e(i)||h.addSchema(a,i,void 0,c)})}).then(function(){return g(a)})}(i);throw i}}var h=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof c&&(e=c,c=void 0);var i=f(b).then(function(){var a=h._addSchema(b,void 0,c);return a.validate||function(b){try{return h._compile(b)}catch(a){if(a instanceof d)return function(a){function d(){delete h._loadingSchemas[i]}function e(a){return h._refs[a]||h._schemas[a]}var i=a.missingSchema;if(e(i))throw new Error("Schema "+i+" is loaded but "+a.missingRef+" cannot be resolved");var j=h._loadingSchemas[i];return j||(j=h._loadingSchemas[i]=h._opts.loadSchema(i)).then(d,d),j.then(function(a){if(!e(i))return f(a).then(function(){e(i)||h.addSchema(a,i,void 0,c)})}).then(function(){return g(b)})}(a);throw a}}(a)});return e&&i.then(function(a){e(null,a)},e),i}},{"./error_classes":3}],3:[function(a,b,c){"use strict";function d(a,b,c){this.message=c||d.message(a,b),this.missingRef=f.url(a,b),this.missingSchema=f.normalizeId(f.fullPath(this.missingRef))}function e(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a}var f=a("./resolve");b.exports={Validation:e(function(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}),MissingRef:e(d)},d.message=function(a,b){return"can't resolve reference "+b+" from id "+a}},{"./resolve":6}],4:[function(a,b,c){"use strict";function d(a){return h.copy(d[a="full"==a?"full":"fast"])}function e(a){var b=a.match(i);if(!b)return!1;var c,d=+b[2],e=+b[3];return 1<=d&&d<=12&&1<=e&&e<=(2!=d||(c=+b[1])%4!=0||c%100==0&&c%400!=0?j[d]:29)}function f(a,b){var c=a.match(k);if(!c)return!1;var d=c[1],e=c[2],f=c[3];return(d<=23&&e<=59&&f<=59||23==d&&59==e&&60==f)&&(!b||c[5])}function g(a){if(v.test(a))return!1;try{return new RegExp(a),!0}catch(a){return!1}}var h=a("./util"),i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,j=[0,31,28,31,30,31,30,31,31,30,31,30,31],k=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,l=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,n=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,o=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,p=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,q=/^(?:\/(?:[^~\/]|~0|~1)*)*$/,r=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,s=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;(b.exports=d).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":n,url:o,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:l,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:g,uuid:p,"json-pointer":q,"json-pointer-uri-fragment":r,"relative-json-pointer":s},d.full={date:e,time:f,"date-time":function(a){var b=a.split(t);return 2==b.length&&e(b[0])&&f(b[1],!0)},uri:function(a){return u.test(a)&&m.test(a)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":n,url:o,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(a){return a.length<=255&&l.test(a)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:g,uuid:p,"json-pointer":q,"json-pointer-uri-fragment":r,"relative-json-pointer":s};var t=/t|\s/i,u=/\/|:/,v=/[^\\]\\Z/},{"./util":10}],5:[function(a,b,c){"use strict";function d(a,b,c){for(var d=0;d<this._compilations.length;d++){var e=this._compilations[d];if(e.schema==a&&e.root==b&&e.baseId==c)return d}return-1}function e(a,b){return"var pattern"+a+" = new RegExp("+k.toQuotedString(b[a])+");"}function f(a){return"var default"+a+" = defaults["+a+"];"}function g(a,b){return void 0===b[a]?"":"var refVal"+a+" = refVal["+a+"];"}function h(a){return"var customRule"+a+" = customRules["+a+"];"}function i(a,b){if(!a.length)return"";for(var c="",d=0;d<a.length;d++)c+=b(d,a);return c}var j=a("./resolve"),k=a("./util"),l=a("./error_classes"),m=a("fast-json-stable-stringify"),n=a("../dotjs/validate"),o=k.ucs2length,p=a("fast-deep-equal"),q=l.Validation;b.exports=function a(b,c,r,s){function t(b,d,m,r){var s=!d||d&&d.schema==b;if(d.schema!=c.schema)return a.call(A,b,d,m,r);var t,v=!0===b.$async,w=n({isTop:!0,schema:b,isRoot:s,baseId:r,root:d,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:l.MissingRef,RULES:M,validate:n,util:k,resolve:j,resolveRef:u,usePattern:x,useDefault:y,useCustomRule:z,opts:B,formats:L,logger:A.logger,self:A});w=i(C,g)+i(E,e)+i(G,f)+i(I,h)+w,B.processCode&&(w=B.processCode(w));try{t=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",w)(A,M,L,c,C,G,I,p,o,q),C[0]=t}catch(b){throw A.logger.error("Error compiling schema, function code:",w),b}return t.schema=b,t.errors=null,t.refs=D,t.refVal=C,t.root=s?t:d,v&&(t.$async=!0),!0===B.sourceCode&&(t.source={code:w,patterns:E,defaults:G}),t}function u(b,d,e){d=j.url(b,d);var f,g,h=D[d];if(void 0!==h)return w(f=C[h],g="refVal["+h+"]");if(!e&&c.refs){var i=c.refs[d];if(void 0!==i)return g=v(d,f=c.refVal[i]),w(f,g)}g=v(d);var k=j.call(A,t,c,d);if(void 0===k){var l=r&&r[d];l&&(k=j.inlineRef(l,B.inlineRefs)?l:a.call(A,l,c,r,b))}if(void 0!==k)return C[D[d]]=k,w(k,g);delete D[d]}function v(a,b){var c=C.length;return C[c]=b,"refVal"+(D[a]=c)}function w(a,b){return"object"==typeof a||"boolean"==typeof a?{code:b,schema:a,inline:!0}:{code:b,$async:a&&!!a.$async}}function x(a){var b=F[a];return void 0===b&&(b=F[a]=E.length,E[b]=a),"pattern"+b}function y(a){switch(typeof a){case"boolean":case"number":return""+a;case"string":return k.toQuotedString(a);case"object":if(null===a)return"null";var b=m(a),c=H[b];return void 0===c&&(c=H[b]=G.length,G[c]=a),"default"+c}}function z(a,b,c,d){var e=a.definition.validateSchema;if(e&&!1!==A._opts.validateSchema){if(!e(b)){var f="keyword schema is invalid: "+A.errorsText(e.errors);if("log"!=A._opts.validateSchema)throw new Error(f);A.logger.error(f)}}var g,h=a.definition.compile,i=a.definition.inline,j=a.definition.macro;if(h)g=h.call(A,b,c,d);else if(j)g=j.call(A,b,c,d),!1!==B.validateSchema&&A.validateSchema(g,!0);else if(i)g=i.call(A,d,a.keyword,b,c);else if(!(g=a.definition.validate))return;if(void 0===g)throw new Error('custom keyword "'+a.keyword+'"failed to compile');var k=I.length;return{code:"customRule"+k,validate:I[k]=g}}var A=this,B=this._opts,C=[void 0],D={},E=[],F={},G=[],H={},I=[];c=c||{schema:b,refVal:C,refs:D};var J=function(a,b,c){var e=d.call(this,a,b,c);return 0<=e?{index:e,compiling:!0}:{index:e=this._compilations.length,compiling:(this._compilations[e]={schema:a,root:b,baseId:c},!1)}}.call(this,b,c,s),K=this._compilations[J.index];if(J.compiling)return K.callValidate=function a(){var b=K.validate,c=b.apply(this,arguments);return a.errors=b.errors,c};var L=this._formats,M=this.RULES;try{var N=t(b,c,r,s);K.validate=N;var O=K.callValidate;return O&&(O.schema=N.schema,O.errors=null,O.refs=N.refs,O.refVal=N.refVal,O.root=N.root,O.$async=N.$async,B.sourceCode&&(O.source=N.source)),N}finally{(function(a,b,c){var e=d.call(this,a,b,c);0<=e&&this._compilations.splice(e,1)}).call(this,b,c,s)}}},{"../dotjs/validate":37,"./error_classes":3,"./resolve":6,"./util":10,"fast-deep-equal":41,"fast-json-stable-stringify":42}],6:[function(a,b,c){"use strict";function d(a,b,c){var f=this._refs[c];if("string"==typeof f){if(!this._refs[f])return d.call(this,a,b,f);f=this._refs[f]}if((f=f||this._schemas[c])instanceof o)return g(f.schema,this._opts.inlineRefs)?f.schema:f.validate||this._compile(f);var h,i,j,k=e.call(this,b,c);return k&&(h=k.schema,b=k.root,j=k.baseId),h instanceof o?i=h.validate||a.call(this,h.schema,b,void 0,j):void 0!==h&&(i=g(h,this._opts.inlineRefs)?h:a.call(this,h,b,void 0,j)),i}function e(a,b){var c=l.parse(b),d=i(c),g=h(this._getId(a.schema));if(d!==g){var m=j(d),n=this._refs[m];if("string"==typeof n)return function(a,b,c){var d=e.call(this,a,b);if(d){var g=d.schema,h=d.baseId;a=d.root;var i=this._getId(g);return i&&(h=k(h,i)),f.call(this,c,h,g,a)}}.call(this,a,n,c);if(n instanceof o)n.validate||this._compile(n),a=n;else{if(!((n=this._schemas[m])instanceof o))return;if(n.validate||this._compile(n),m==j(b))return{schema:n,root:a,baseId:g};a=n}if(!a.schema)return;g=h(this._getId(a.schema))}return f.call(this,c,g,a.schema,a)}function f(a,b,c,d){if(a.fragment=a.fragment||"","/"==a.fragment.slice(0,1)){for(var f=a.fragment.split("/"),g=1;g<f.length;g++){var h=f[g];if(h){if(void 0===(c=c[h=n.unescapeFragment(h)]))break;var i;if(!q[h]&&((i=this._getId(c))&&(b=k(b,i)),c.$ref)){var j=k(b,c.$ref),l=e.call(this,d,j);l&&(c=l.schema,d=l.root,b=l.baseId)}}}return void 0!==c&&c!==d.schema?{schema:c,root:d,baseId:b}:void 0}}function g(a,b){return!1!==b&&(void 0===b||!0===b?function a(b){var c;if(Array.isArray(b)){for(var d=0;d<b.length;d++)if("object"==typeof(c=b[d])&&!a(c))return!1}else for(var e in b){if("$ref"==e)return!1;if("object"==typeof(c=b[e])&&!a(c))return!1}return!0}(a):b?function a(b){var c,d=0;if(Array.isArray(b)){for(var e=0;e<b.length;e++)if("object"==typeof(c=b[e])&&(d+=a(c)),d==1/0)return 1/0}else for(var f in b){if("$ref"==f)return 1/0;if(r[f])d++;else if("object"==typeof(c=b[f])&&(d+=a(c)+1),d==1/0)return 1/0}return d}(a)<=b:void 0)}function h(a,b){return!1!==b&&(a=j(a)),i(l.parse(a))}function i(a){return l.serialize(a).split("#")[0]+"#"}function j(a){return a?a.replace(s,""):""}function k(a,b){return b=j(b),l.resolve(a,b)}var l=a("uri-js"),m=a("fast-deep-equal"),n=a("./util"),o=a("./schema_obj"),p=a("json-schema-traverse");(b.exports=d).normalizeId=j,d.fullPath=h,d.url=k,d.ids=function(a){var b=j(this._getId(a)),c={"":b},d={"":h(b,!1)},e={},f=this;return p(a,{allKeys:!0},function(a,b,g,h,i,k,o){if(""!==b){var p=f._getId(a),q=c[h],r=d[h]+"/"+i;if(void 0!==o&&(r+="/"+("number"==typeof o?o:n.escapeFragment(o))),"string"==typeof p){p=q=j(q?l.resolve(q,p):p);var s=f._refs[p];if("string"==typeof s&&(s=f._refs[s]),s&&s.schema){if(!m(a,s.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=j(r))if("#"==p[0]){if(e[p]&&!m(a,e[p]))throw new Error('id "'+p+'" resolves to more than one schema');e[p]=a}else f._refs[p]=r}c[b]=q,d[b]=r}}),e},d.inlineRef=g,d.schema=e;var q=n.toHash(["properties","patternProperties","enum","dependencies","definitions"]),r=n.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]),s=/#\/?$/},{"./schema_obj":8,"./util":10,"fast-deep-equal":41,"json-schema-traverse":43,"uri-js":44}],7:[function(a,b,c){"use strict";var d=a("../dotjs"),e=a("./util").toHash;b.exports=function(){var a=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],b=["type","$comment"];return a.all=e(b),a.types=e(["number","integer","string","array","object","boolean","null"]),a.forEach(function(c){c.rules=c.rules.map(function(c){var e;if("object"==typeof c){var f=Object.keys(c)[0];e=c[f],c=f,e.forEach(function(c){b.push(c),a.all[c]=!0})}return b.push(c),a.all[c]={keyword:c,code:d[c],implements:e}}),a.all.$comment={keyword:"$comment",code:d.$comment},c.type&&(a.types[c.type]=c)}),a.keywords=e(b.concat(["$schema","$id","id","$data","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),a.custom={},a}},{"../dotjs":26,"./util":10}],8:[function(a,b,c){"use strict";var d=a("./util");b.exports=function(a){d.copy(a,this)}},{"./util":10}],9:[function(a,b,c){"use strict";b.exports=function(a){for(var b,c=0,d=a.length,e=0;e<d;)c++,55296<=(b=a.charCodeAt(e++))&&b<=56319&&e<d&&56320==(64512&(b=a.charCodeAt(e)))&&e++;return c}},{}],10:[function(a,b,c){"use strict";function d(a,b,c){var d=c?" !== ":" === ",e=c?" || ":" && ",f=c?"!":"",g=c?"":"!";switch(a){case"null":return b+d+"null";case"array":return f+"Array.isArray("+b+")";case"object":return"("+f+b+e+"typeof "+b+d+'"object"'+e+g+"Array.isArray("+b+"))";case"integer":return"(typeof "+b+d+'"number"'+e+g+"("+b+" % 1)"+e+b+d+b+")";default:return"typeof "+b+d+'"'+a+'"'}}function e(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function f(a){return"number"==typeof a?"["+a+"]":m.test(a)?"."+a:"['"+g(a)+"']"}function g(a){return a.replace(n,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(a){return"'"+g(a)+"'"}function i(a,b){return'""'==a?b:(a+" + "+b).replace(/' \+ '/g,"")}function j(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function k(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}b.exports={copy:function(a,b){for(var c in b=b||{},a)b[c]=a[c];return b},checkDataType:d,checkDataTypes:function(a,b){switch(a.length){case 1:return d(a[0],b,!0);default:var c="",f=e(a);for(var g in f.array&&f.object&&(c=f.null?"(":"(!"+b+" || ",c+="typeof "+b+' !== "object")',delete f.null,delete f.array,delete f.object),f.number&&delete f.integer,f)c+=(c?" && ":"")+d(g,b,!0);return c}},coerceToTypes:function(a,b){if(Array.isArray(b)){for(var c=[],d=0;d<b.length;d++){var e=b[d];l[e]?c[c.length]=e:"array"===a&&"array"===e&&(c[c.length]=e)}if(c.length)return c}else{if(l[b])return[b];if("array"===a&&"array"===b)return["array"]}},toHash:e,getProperty:f,escapeQuotes:g,equal:a("fast-deep-equal"),ucs2length:a("./ucs2length"),varOccurences:function(a,b){var c=a.match(new RegExp(b+="[^0-9]","g"));return c?c.length:0},varReplace:function(a,b,c){return b+="([^0-9])",c=c.replace(/\$/g,"$$$$"),a.replace(new RegExp(b,"g"),c+"$1")},cleanUpCode:function(a){return a.replace(o,"").replace(p,"").replace(q,"if (!($1))")},finalCleanUpCode:function(a,b){var c=a.match(r);return c&&2==c.length&&(a=b?a.replace(t,"").replace(w,x):a.replace(s,"").replace(u,v)),(c=a.match(y))&&3===c.length?a.replace(z,""):a},schemaHasRules:function(a,b){if("boolean"==typeof a)return!a;for(var c in a)if(b[c])return!0},schemaHasRulesExcept:function(a,b,c){if("boolean"==typeof a)return!a&&"not"!=c;for(var d in a)if(d!=c&&b[d])return!0},toQuotedString:h,getPathExpr:function(a,b,c,d){return i(a,c?"'/' + "+b+(d?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):d?"'[' + "+b+" + ']'":"'[\\'' + "+b+" + '\\']'")},getPath:function(a,b,c){return i(a,h(c?"/"+j(b):f(b)))},getData:function(a,b,c){var d,e,g,h;if(""===a)return"rootData";if("/"==a[0]){if(!A.test(a))throw new Error("Invalid JSON-pointer: "+a);e=a,g="rootData"}else{if(!(h=a.match(B)))throw new Error("Invalid JSON-pointer: "+a);if(d=+h[1],"#"==(e=h[2])){if(b<=d)throw new Error("Cannot access property/index "+d+" levels up, current level is "+b);return c[b-d]}if(b<d)throw new Error("Cannot access data "+d+" levels up, current level is "+b);if(g="data"+(b-d||""),!e)return g}for(var i=g,j=e.split("/"),l=0;l<j.length;l++){var m=j[l];m&&(g+=f(k(m)),i+=" && "+g)}return i},unescapeFragment:function(a){return k(decodeURIComponent(a))},unescapeJsonPointer:k,escapeFragment:function(a){return encodeURIComponent(j(a))},escapeJsonPointer:j};var l=e(["string","number","integer","boolean","null"]),m=/^[a-z$_][a-z$_0-9]*$/i,n=/'|\\/g,o=/else\s*{\s*}/g,p=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,q=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g,r=/[^v.]errors/g,s=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,t=/var errors = 0;|var vErrors = null;/g,u="return errors === 0;",v="validate.errors = null; return true;",w=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,x="return data;",y=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,z=/if \(rootData === undefined\) rootData = data;/,A=/^\/(?:[^~]|~0|~1)*$/,B=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/},{"./ucs2length":9,"fast-deep-equal":41}],11:[function(a,b,c){"use strict";var d=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];b.exports=function(a,b){for(var c=0;c<b.length;c++){a=JSON.parse(JSON.stringify(a));var e,f=b[c].split("/"),g=a;for(e=1;e<f.length;e++)g=g[f[e]];for(e=0;e<d.length;e++){var h=d[e],i=g[h];i&&(g[h]={anyOf:[i,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return a}},{}],12:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=" ",f=a.level,g=a.dataLevel,h=a.schema[b],i=a.schemaPath+a.util.getProperty(b),j=a.errSchemaPath+"/"+b,k=!a.opts.allErrors,l="data"+(g||""),m=a.opts.$data&&h&&h.$data;m?(e+=" var schema"+f+" = "+a.util.getData(h.$data,g,a.dataPathArr)+"; ",d="schema"+f):d=h;var n="maximum"==b,o=n?"exclusiveMaximum":"exclusiveMinimum",p=a.schema[o],q=a.opts.$data&&p&&p.$data,r=n?"<":">",s=n?">":"<",t=void 0;if(q){var u=a.util.getData(p.$data,g,a.dataPathArr),v="exclusive"+f,w="exclType"+f,x="exclIsNumber"+f,y="' + "+(B="op"+f)+" + '";e+=" var schemaExcl"+f+" = "+u+"; ";var z;t=o,(z=z||[]).push(e+=" var "+v+"; var "+w+" = typeof "+(u="schemaExcl"+f)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { "),e="",!1!==a.createErrors?(e+=" { keyword: '"+(t||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(j)+" , params: {} ",!1!==a.opts.messages&&(e+=" , message: '"+o+" should be boolean' "),a.opts.verbose&&(e+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var A=e;e=z.pop(),e+=!a.compositeRule&&k?a.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } else if ( ",m&&(e+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e+=" "+w+" == 'number' ? ( ("+v+" = "+d+" === undefined || "+u+" "+r+"= "+d+") ? "+l+" "+s+"= "+u+" : "+l+" "+s+" "+d+" ) : ( ("+v+" = "+u+" === true) ? "+l+" "+s+"= "+d+" : "+l+" "+s+" "+d+" ) || "+l+" !== "+l+") { var op"+f+" = "+v+" ? '"+r+"' : '"+r+"='; ",void 0===h&&(j=a.errSchemaPath+"/"+(t=o),d=u,m=q)}else if(y=r,(x="number"==typeof p)&&m){var B="'"+y+"'";e+=" if ( ",m&&(e+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e+=" ( "+d+" === undefined || "+p+" "+r+"= "+d+" ? "+l+" "+s+"= "+p+" : "+l+" "+s+" "+d+" ) || "+l+" !== "+l+") { "}else x&&void 0===h?(v=!0,j=a.errSchemaPath+"/"+(t=o),d=p,s+="="):(x&&(d=Math[n?"min":"max"](p,h)),p===(!x||d)?(v=!0,j=a.errSchemaPath+"/"+(t=o),s+="="):(v=!1,y+="=")),B="'"+y+"'",e+=" if ( ",m&&(e+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e+=" "+l+" "+s+" "+d+" || "+l+" !== "+l+") { ";return t=t||b,(z=z||[]).push(e),e="",!1!==a.createErrors?(e+=" { keyword: '"+(t||"_limit")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(j)+" , params: { comparison: "+B+", limit: "+d+", exclusive: "+v+" } ",!1!==a.opts.messages&&(e+=" , message: 'should be "+y+" ",e+=m?"' + "+d:d+"'"),a.opts.verbose&&(e+=" , schema:  ",e+=m?"validate.schema"+i:""+h,e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ",A=e,e=z.pop(),e+=!a.compositeRule&&k?a.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",k&&(e+=" else { "),e}},{}],13:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=" ",f=a.level,g=a.dataLevel,h=a.schema[b],i=a.schemaPath+a.util.getProperty(b),j=a.errSchemaPath+"/"+b,k=!a.opts.allErrors,l="data"+(g||""),m=a.opts.$data&&h&&h.$data;m?(e+=" var schema"+f+" = "+a.util.getData(h.$data,g,a.dataPathArr)+"; ",d="schema"+f):d=h,e+="if ( ",m&&(e+=" ("+d+" !== undefined && typeof "+d+" != 'number') || ");var n=b,o=o||[];o.push(e+=" "+l+".length "+("maxItems"==b?">":"<")+" "+d+") { "),e="",!1!==a.createErrors?(e+=" { keyword: '"+(n||"_limitItems")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(j)+" , params: { limit: "+d+" } ",!1!==a.opts.messages&&(e+=" , message: 'should NOT have ",e+="maxItems"==b?"more":"less",e+=" than ",e+=m?"' + "+d+" + '":""+h,e+=" items' "),a.opts.verbose&&(e+=" , schema:  ",e+=m?"validate.schema"+i:""+h,e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var p=e;return e=o.pop(),e+=!a.compositeRule&&k?a.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",k&&(e+=" else { "),e}},{}],14:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=" ",f=a.level,g=a.dataLevel,h=a.schema[b],i=a.schemaPath+a.util.getProperty(b),j=a.errSchemaPath+"/"+b,k=!a.opts.allErrors,l="data"+(g||""),m=a.opts.$data&&h&&h.$data;m?(e+=" var schema"+f+" = "+a.util.getData(h.$data,g,a.dataPathArr)+"; ",d="schema"+f):d=h,e+="if ( ",m&&(e+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),e+=!1===a.opts.unicode?" "+l+".length ":" ucs2length("+l+") ";var n=b,o=o||[];o.push(e+=" "+("maxLength"==b?">":"<")+" "+d+") { "),e="",!1!==a.createErrors?(e+=" { keyword: '"+(n||"_limitLength")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(j)+" , params: { limit: "+d+" } ",!1!==a.opts.messages&&(e+=" , message: 'should NOT be ",e+="maxLength"==b?"longer":"shorter",e+=" than ",e+=m?"' + "+d+" + '":""+h,e+=" characters' "),a.opts.verbose&&(e+=" , schema:  ",e+=m?"validate.schema"+i:""+h,e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var p=e;return e=o.pop(),e+=!a.compositeRule&&k?a.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",k&&(e+=" else { "),e}},{}],15:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=" ",f=a.level,g=a.dataLevel,h=a.schema[b],i=a.schemaPath+a.util.getProperty(b),j=a.errSchemaPath+"/"+b,k=!a.opts.allErrors,l="data"+(g||""),m=a.opts.$data&&h&&h.$data;m?(e+=" var schema"+f+" = "+a.util.getData(h.$data,g,a.dataPathArr)+"; ",d="schema"+f):d=h,e+="if ( ",m&&(e+=" ("+d+" !== undefined && typeof "+d+" != 'number') || ");var n=b,o=o||[];o.push(e+=" Object.keys("+l+").length "+("maxProperties"==b?">":"<")+" "+d+") { "),e="",!1!==a.createErrors?(e+=" { keyword: '"+(n||"_limitProperties")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(j)+" , params: { limit: "+d+" } ",!1!==a.opts.messages&&(e+=" , message: 'should NOT have ",e+="maxProperties"==b?"more":"less",e+=" than ",e+=m?"' + "+d+" + '":""+h,e+=" properties' "),a.opts.verbose&&(e+=" , schema:  ",e+=m?"validate.schema"+i:""+h,e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var p=e;return e=o.pop(),e+=!a.compositeRule&&k?a.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",
e+="} ",k&&(e+=" else { "),e}},{}],16:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.schema[b],f=a.schemaPath+a.util.getProperty(b),g=a.errSchemaPath+"/"+b,h=!a.opts.allErrors,i=a.util.copy(a),j="";i.level++;var k="valid"+i.level,l=i.baseId,m=!0,n=e;if(n)for(var o,p=-1,q=n.length-1;p<q;)o=n[p+=1],a.util.schemaHasRules(o,a.RULES.all)&&(m=!1,i.schema=o,i.schemaPath=f+"["+p+"]",i.errSchemaPath=g+"/"+p,d+="  "+a.validate(i)+" ",i.baseId=l,h&&(d+=" if ("+k+") { ",j+="}"));return h&&(d+=m?" if (true) { ":" "+j.slice(0,-1)+" "),d=a.util.cleanUpCode(d)}},{}],17:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="valid"+e,m="errs__"+e,n=a.util.copy(a),o="";n.level++;var p="valid"+n.level;if(g.every(function(b){return a.util.schemaHasRules(b,a.RULES.all)})){var q=n.baseId;d+=" var "+m+" = errors; var "+l+" = false;  ";var r=a.compositeRule;a.compositeRule=n.compositeRule=!0;var s=g;if(s)for(var t,u=-1,v=s.length-1;u<v;)t=s[u+=1],n.schema=t,n.schemaPath=h+"["+u+"]",n.errSchemaPath=i+"/"+u,d+="  "+a.validate(n)+" ",n.baseId=q,d+=" "+l+" = "+l+" || "+p+"; if (!"+l+") { ",o+="}";a.compositeRule=n.compositeRule=r,d+=" "+o+" if (!"+l+") {   var err =   ",!1!==a.createErrors?(d+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: {} ",!1!==a.opts.messages&&(d+=" , message: 'should match some schema in anyOf' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&j&&(d+=a.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),d+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",a.opts.allErrors&&(d+=" } "),d=a.util.cleanUpCode(d)}else j&&(d+=" if (true) { ");return d}},{}],18:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.errSchemaPath+"/"+b,f=a.util.toQuotedString(a.schema[b]);return!0===a.opts.$comment?d+=" console.log("+f+");":"function"==typeof a.opts.$comment&&(d+=" self._opts.$comment("+f+", "+a.util.toQuotedString(e)+", validate.root.schema);"),d}},{}],19:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="valid"+e,m=a.opts.$data&&g&&g.$data;m&&(d+=" var schema"+e+" = "+a.util.getData(g.$data,f,a.dataPathArr)+"; "),m||(d+=" var schema"+e+" = validate.schema"+h+";");var n=n||[];n.push(d+="var "+l+" = equal("+k+", schema"+e+"); if (!"+l+") {   "),d="",!1!==a.createErrors?(d+=" { keyword: 'const' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { allowedValue: schema"+e+" } ",!1!==a.opts.messages&&(d+=" , message: 'should be equal to constant' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var o=d;return d=n.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d+=" }",j&&(d+=" else { "),d}},{}],20:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="valid"+e,m="errs__"+e,n=a.util.copy(a);n.level++;var o="valid"+n.level,p="i"+e,q=n.dataLevel=a.dataLevel+1,r="data"+q,s=a.baseId,t=a.util.schemaHasRules(g,a.RULES.all);if(d+="var "+m+" = errors;var "+l+";",t){var u=a.compositeRule;a.compositeRule=n.compositeRule=!0,n.schema=g,n.schemaPath=h,n.errSchemaPath=i,d+=" var "+o+" = false; for (var "+p+" = 0; "+p+" < "+k+".length; "+p+"++) { ",n.errorPath=a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers,!0);var v=k+"["+p+"]";n.dataPathArr[q]=p;var w=a.validate(n);n.baseId=s,a.util.varOccurences(w,r)<2?d+=" "+a.util.varReplace(w,r,v)+" ":d+=" var "+r+" = "+v+"; "+w+" ",d+=" if ("+o+") break; }  ",a.compositeRule=n.compositeRule=u,d+="  if (!"+o+") {"}else d+=" if ("+k+".length == 0) {";var x=x||[];x.push(d),d="",!1!==a.createErrors?(d+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: {} ",!1!==a.opts.messages&&(d+=" , message: 'should contain a valid item' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var y=d;return d=x.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d+=" } else { ",t&&(d+="  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } "),a.opts.allErrors&&(d+=" } "),d=a.util.cleanUpCode(d)}},{}],21:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e,f=" ",g=a.level,h=a.dataLevel,i=a.schema[b],j=a.schemaPath+a.util.getProperty(b),k=a.errSchemaPath+"/"+b,l=!a.opts.allErrors,m="data"+(h||""),n="valid"+g,o="errs__"+g,p=a.opts.$data&&i&&i.$data;p?(f+=" var schema"+g+" = "+a.util.getData(i.$data,h,a.dataPathArr)+"; ",e="schema"+g):e=i;var q,r,s,t,u,v=this,w="definition"+g,x=v.definition,y="";if(p&&x.$data){var z=x.validateSchema;f+=" var "+w+" = RULES.custom['"+b+"'].definition; var "+(u="keywordValidate"+g)+" = "+w+".validate;"}else{if(!(t=a.useCustomRule(v,i,a.schema,a)))return;e="validate.schema"+j,u=t.code,q=x.compile,r=x.inline,s=x.macro}var A=u+".errors",B="i"+g,C="ruleErr"+g,D=x.async;if(D&&!a.async)throw new Error("async keyword in sync schema");if(r||s||(f+=A+" = null;"),f+="var "+o+" = errors;var "+n+";",p&&x.$data&&(y+="}",f+=" if ("+e+" === undefined) { "+n+" = true; } else { ",z&&(y+="}",f+=" "+n+" = "+w+".validateSchema("+e+"); if ("+n+") { ")),r)f+=x.statements?" "+t.validate+" ":" "+n+" = "+t.validate+"; ";else if(s){var E=a.util.copy(a);y="",E.level++;var F="valid"+E.level;E.schema=t.validate,E.schemaPath="";var G=a.compositeRule;a.compositeRule=E.compositeRule=!0;var H=a.validate(E).replace(/validate\.schema/g,u);a.compositeRule=E.compositeRule=G,f+=" "+H}else{(L=L||[]).push(f),f="",f+="  "+u+".call( ",f+=a.opts.passContext?"this":"self",f+=q||!1===x.schema?" , "+m+" ":" , "+e+" , "+m+" , validate.schema"+a.schemaPath+" ",f+=" , (dataPath || '')",'""'!=a.errorPath&&(f+=" + "+a.errorPath);var I=h?"data"+(h-1||""):"parentData",J=h?a.dataPathArr[h]:"parentDataProperty",K=f+=" , "+I+" , "+J+" , rootData )  ";f=L.pop(),!1===x.errors?(f+=" "+n+" = ",D&&(f+="await "),f+=K+"; "):f+=D?" var "+(A="customErrors"+g)+" = null; try { "+n+" = await "+K+"; } catch (e) { "+n+" = false; if (e instanceof ValidationError) "+A+" = e.errors; else throw e; } ":" "+A+" = null; "+n+" = "+K+"; "}if(x.modifying&&(f+=" if ("+I+") "+m+" = "+I+"["+J+"];"),f+=""+y,x.valid)l&&(f+=" if (true) { ");else{var L;f+=" if ( ",void 0===x.valid?(f+=" !",f+=s?""+F:""+n):f+=" "+!x.valid+" ",d=v.keyword,(L=L||[]).push(f+=") { "),(L=L||[]).push(f=""),f="",!1!==a.createErrors?(f+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(k)+" , params: { keyword: '"+v.keyword+"' } ",!1!==a.opts.messages&&(f+=" , message: 'should pass \""+v.keyword+"\" keyword validation' "),a.opts.verbose&&(f+=" , schema: validate.schema"+j+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),f+=" } "):f+=" {} ";var M=f;f=L.pop();var N=f+=!a.compositeRule&&l?a.async?" throw new ValidationError(["+M+"]); ":" validate.errors = ["+M+"]; return false; ":" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";f=L.pop(),r?x.errors?"full"!=x.errors&&(f+="  for (var "+B+"="+o+"; "+B+"<errors; "+B+"++) { var "+C+" = vErrors["+B+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+k+'"; } ',a.opts.verbose&&(f+=" "+C+".schema = "+e+"; "+C+".data = "+m+"; "),f+=" } "):!1===x.errors?f+=" "+N+" ":(f+=" if ("+o+" == errors) { "+N+" } else {  for (var "+B+"="+o+"; "+B+"<errors; "+B+"++) { var "+C+" = vErrors["+B+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+k+'"; } ',a.opts.verbose&&(f+=" "+C+".schema = "+e+"; "+C+".data = "+m+"; "),f+=" } } "):s?(f+="   var err =   ",!1!==a.createErrors?(f+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(k)+" , params: { keyword: '"+v.keyword+"' } ",!1!==a.opts.messages&&(f+=" , message: 'should pass \""+v.keyword+"\" keyword validation' "),a.opts.verbose&&(f+=" , schema: validate.schema"+j+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),f+=" } "):f+=" {} ",f+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&l&&(f+=a.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===x.errors?f+=" "+N+" ":(f+=" if (Array.isArray("+A+")) { if (vErrors === null) vErrors = "+A+"; else vErrors = vErrors.concat("+A+"); errors = vErrors.length;  for (var "+B+"="+o+"; "+B+"<errors; "+B+"++) { var "+C+" = vErrors["+B+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+a.errorPath+";  "+C+'.schemaPath = "'+k+'";  ',a.opts.verbose&&(f+=" "+C+".schema = "+e+"; "+C+".data = "+m+"; "),f+=" } } else { "+N+" } "),f+=" } ",l&&(f+=" else { ")}return f}},{}],22:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="errs__"+e,m=a.util.copy(a),n="";m.level++;var o="valid"+m.level,p={},q={},r=a.opts.ownProperties;for(v in g){var s=g[v],t=Array.isArray(s)?q:p;t[v]=s}d+="var "+l+" = errors;";var u=a.errorPath;for(var v in d+="var missing"+e+";",q)if((t=q[v]).length){if(d+=" if ( "+k+a.util.getProperty(v)+" !== undefined ",r&&(d+=" && Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(v)+"') "),j){d+=" && ( ";var w=t;if(w)for(var x=-1,y=w.length-1;x<y;)E=w[x+=1],x&&(d+=" || "),d+=" ( ( "+(I=k+(H=a.util.getProperty(E)))+" === undefined ",r&&(d+=" || ! Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(E)+"') "),d+=") && (missing"+e+" = "+a.util.toQuotedString(a.opts.jsonPointers?E:H)+") ) ";d+=")) {  ";var z="missing"+e,A="' + "+z+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.opts.jsonPointers?a.util.getPathExpr(u,z,!0):u+" + "+z);var B=B||[];B.push(d),d="",!1!==a.createErrors?(d+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { property: '"+a.util.escapeQuotes(v)+"', missingProperty: '"+A+"', depsCount: "+t.length+", deps: '"+a.util.escapeQuotes(1==t.length?t[0]:t.join(", "))+"' } ",!1!==a.opts.messages&&(d+=" , message: 'should have ",d+=1==t.length?"property "+a.util.escapeQuotes(t[0]):"properties "+a.util.escapeQuotes(t.join(", ")),d+=" when property "+a.util.escapeQuotes(v)+" is present' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var C=d;d=B.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+C+"]); ":" validate.errors = ["+C+"]; return false; ":" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{d+=" ) { ";var D=t;if(D)for(var E,F=-1,G=D.length-1;F<G;){E=D[F+=1];var H=a.util.getProperty(E),I=(A=a.util.escapeQuotes(E),k+H);a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(u,E,a.opts.jsonPointers)),d+=" if ( "+I+" === undefined ",r&&(d+=" || ! Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(E)+"') "),d+=") {  var err =   ",!1!==a.createErrors?(d+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { property: '"+a.util.escapeQuotes(v)+"', missingProperty: '"+A+"', depsCount: "+t.length+", deps: '"+a.util.escapeQuotes(1==t.length?t[0]:t.join(", "))+"' } ",!1!==a.opts.messages&&(d+=" , message: 'should have ",d+=1==t.length?"property "+a.util.escapeQuotes(t[0]):"properties "+a.util.escapeQuotes(t.join(", ")),d+=" when property "+a.util.escapeQuotes(v)+" is present' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}d+=" }   ",j&&(n+="}",d+=" else { ")}a.errorPath=u;var J=m.baseId;for(var v in p)a.util.schemaHasRules(s=p[v],a.RULES.all)&&(d+=" "+o+" = true; if ( "+k+a.util.getProperty(v)+" !== undefined ",r&&(d+=" && Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(v)+"') "),d+=") { ",m.schema=s,m.schemaPath=h+a.util.getProperty(v),m.errSchemaPath=i+"/"+a.util.escapeFragment(v),d+="  "+a.validate(m)+" ",m.baseId=J,d+=" }  ",j&&(d+=" if ("+o+") { ",n+="}"));return j&&(d+="   "+n+" if ("+l+" == errors) {"),d=a.util.cleanUpCode(d)}},{}],23:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="valid"+e,m=a.opts.$data&&g&&g.$data;m&&(d+=" var schema"+e+" = "+a.util.getData(g.$data,f,a.dataPathArr)+"; ");var n="i"+e,o="schema"+e;m||(d+=" var "+o+" = validate.schema"+h+";"),d+="var "+l+";",m&&(d+=" if (schema"+e+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+e+")) "+l+" = false; else {"),d+=l+" = false;for (var "+n+"=0; "+n+"<"+o+".length; "+n+"++) if (equal("+k+", "+o+"["+n+"])) { "+l+" = true; break; }",m&&(d+="  }  ");var p=p||[];p.push(d+=" if (!"+l+") {   "),d="",!1!==a.createErrors?(d+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { allowedValues: schema"+e+" } ",!1!==a.opts.messages&&(d+=" , message: 'should be equal to one of the allowed values' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var q=d;return d=p.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+q+"]); ":" validate.errors = ["+q+"]; return false; ":" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d+=" }",j&&(d+=" else { "),d}},{}],24:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||"");if(!1===a.opts.format)return j&&(d+=" if (true) { "),d;var l,m=a.opts.$data&&g&&g.$data;m?(d+=" var schema"+e+" = "+a.util.getData(g.$data,f,a.dataPathArr)+"; ",l="schema"+e):l=g;var n=a.opts.unknownFormats,o=Array.isArray(n);if(m)d+=" var "+(p="format"+e)+" = formats["+l+"]; var "+(q="isObject"+e)+" = typeof "+p+" == 'object' && !("+p+" instanceof RegExp) && "+p+".validate; var "+(r="formatType"+e)+" = "+q+" && "+p+".type || 'string'; if ("+q+") { ",a.async&&(d+=" var async"+e+" = "+p+".async; "),d+=" "+p+" = "+p+".validate; } if (  ",m&&(d+=" ("+l+" !== undefined && typeof "+l+" != 'string') || "),d+=" (","ignore"!=n&&(d+=" ("+l+" && !"+p+" ",o&&(d+=" && self._opts.unknownFormats.indexOf("+l+") == -1 "),d+=") || "),d+=" ("+p+" && "+r+" == '"+c+"' && !(typeof "+p+" == 'function' ? ",d+=a.async?" (async"+e+" ? await "+p+"("+k+") : "+p+"("+k+")) ":" "+p+"("+k+") ",d+=" : "+p+".test("+k+"))))) {";else{var p;if(!(p=a.formats[g])){if("ignore"==n)return a.logger.warn('unknown format "'+g+'" ignored in schema at path "'+a.errSchemaPath+'"'),j&&(d+=" if (true) { "),d;if(o&&0<=n.indexOf(g))return j&&(d+=" if (true) { "),d;throw new Error('unknown format "'+g+'" is used in schema at path "'+a.errSchemaPath+'"')}var q,r=(q="object"==typeof p&&!(p instanceof RegExp)&&p.validate)&&p.type||"string";if(q){var s=!0===p.async;p=p.validate}if(r!=c)return j&&(d+=" if (true) { "),d;if(s){if(!a.async)throw new Error("async format in sync schema");d+=" if (!(await "+(t="formats"+a.util.getProperty(g)+".validate")+"("+k+"))) { "}else{d+=" if (! ";var t="formats"+a.util.getProperty(g);q&&(t+=".validate"),d+="function"==typeof p?" "+t+"("+k+") ":" "+t+".test("+k+") ",d+=") { "}}var u=u||[];u.push(d),d="",!1!==a.createErrors?(d+=" { keyword: 'format' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { format:  ",d+=m?""+l:""+a.util.toQuotedString(g),d+="  } ",!1!==a.opts.messages&&(d+=" , message: 'should match format \"",d+=m?"' + "+l+" + '":""+a.util.escapeQuotes(g),d+="\"' "),a.opts.verbose&&(d+=" , schema:  ",d+=m?"validate.schema"+h:""+a.util.toQuotedString(g),d+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var v=d;return d=u.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+v+"]); ":" validate.errors = ["+v+"]; return false; ":" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d+=" } ",j&&(d+=" else { "),d}},{}],25:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="valid"+e,m="errs__"+e,n=a.util.copy(a);n.level++;var o="valid"+n.level,p=a.schema.then,q=a.schema.else,r=void 0!==p&&a.util.schemaHasRules(p,a.RULES.all),s=void 0!==q&&a.util.schemaHasRules(q,a.RULES.all),t=n.baseId;if(r||s){var u;n.createErrors=!1,n.schema=g,n.schemaPath=h,n.errSchemaPath=i,d+=" var "+m+" = errors; var "+l+" = true;  ";var v=a.compositeRule;a.compositeRule=n.compositeRule=!0,d+="  "+a.validate(n)+" ",n.baseId=t,n.createErrors=!0,d+="  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; }  ",a.compositeRule=n.compositeRule=v,r?(d+=" if ("+o+") {  ",n.schema=a.schema.then,n.schemaPath=a.schemaPath+".then",n.errSchemaPath=a.errSchemaPath+"/then",d+="  "+a.validate(n)+" ",n.baseId=t,d+=" "+l+" = "+o+"; ",r&&s?d+=" var "+(u="ifClause"+e)+" = 'then'; ":u="'then'",d+=" } ",s&&(d+=" else { ")):d+=" if (!"+o+") { ",s&&(n.schema=a.schema.else,n.schemaPath=a.schemaPath+".else",n.errSchemaPath=a.errSchemaPath+"/else",d+="  "+a.validate(n)+" ",n.baseId=t,d+=" "+l+" = "+o+"; ",r&&s?d+=" var "+(u="ifClause"+e)+" = 'else'; ":u="'else'",d+=" } "),d+=" if (!"+l+") {   var err =   ",!1!==a.createErrors?(d+=" { keyword: 'if' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { failingKeyword: "+u+" } ",!1!==a.opts.messages&&(d+=" , message: 'should match \"' + "+u+" + '\" schema' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&j&&(d+=a.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),d+=" }   ",j&&(d+=" else { "),d=a.util.cleanUpCode(d)}else j&&(d+=" if (true) { ");return d}},{}],26:[function(a,b,c){"use strict";b.exports={$ref:a("./ref"),allOf:a("./allOf"),anyOf:a("./anyOf"),$comment:a("./comment"),const:a("./const"),contains:a("./contains"),dependencies:a("./dependencies"),enum:a("./enum"),format:a("./format"),if:a("./if"),items:a("./items"),maximum:a("./_limit"),minimum:a("./_limit"),maxItems:a("./_limitItems"),minItems:a("./_limitItems"),maxLength:a("./_limitLength"),minLength:a("./_limitLength"),maxProperties:a("./_limitProperties"),minProperties:a("./_limitProperties"),multipleOf:a("./multipleOf"),not:a("./not"),oneOf:a("./oneOf"),pattern:a("./pattern"),properties:a("./properties"),propertyNames:a("./propertyNames"),required:a("./required"),uniqueItems:a("./uniqueItems"),validate:a("./validate")}},{"./_limit":12,"./_limitItems":13,"./_limitLength":14,"./_limitProperties":15,"./allOf":16,"./anyOf":17,"./comment":18,"./const":19,"./contains":20,"./dependencies":22,"./enum":23,"./format":24,"./if":25,"./items":27,"./multipleOf":28,"./not":29,"./oneOf":30,"./pattern":31,"./properties":32,"./propertyNames":33,"./ref":34,"./required":35,"./uniqueItems":36,"./validate":37}],27:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="valid"+e,m="errs__"+e,n=a.util.copy(a),o="";n.level++;var p="valid"+n.level,q="i"+e,r=n.dataLevel=a.dataLevel+1,s="data"+r,t=a.baseId;if(d+="var "+m+" = errors;var "+l+";",Array.isArray(g)){var u=a.schema.additionalItems;if(!1===u){d+=" "+l+" = "+k+".length <= "+g.length+"; ";var v=i;i=a.errSchemaPath+"/additionalItems";var w=w||[];w.push(d+="  if (!"+l+") {   "),d="",!1!==a.createErrors?(d+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { limit: "+g.length+" } ",!1!==a.opts.messages&&(d+=" , message: 'should NOT have more than "+g.length+" items' "),a.opts.verbose&&(d+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var x=d;d=w.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d+=" } ",i=v,j&&(o+="}",d+=" else { ")}var y=g;if(y)for(var z,A=-1,B=y.length-1;A<B;)if(z=y[A+=1],a.util.schemaHasRules(z,a.RULES.all)){d+=" "+p+" = true; if ("+k+".length > "+A+") { ";var C=k+"["+A+"]";n.schema=z,n.schemaPath=h+"["+A+"]",n.errSchemaPath=i+"/"+A,n.errorPath=a.util.getPathExpr(a.errorPath,A,a.opts.jsonPointers,!0),n.dataPathArr[r]=A;var D=a.validate(n);n.baseId=t,a.util.varOccurences(D,s)<2?d+=" "+a.util.varReplace(D,s,C)+" ":d+=" var "+s+" = "+C+"; "+D+" ",d+=" }  ",j&&(d+=" if ("+p+") { ",o+="}")}"object"==typeof u&&a.util.schemaHasRules(u,a.RULES.all)&&(n.schema=u,n.schemaPath=a.schemaPath+".additionalItems",n.errSchemaPath=a.errSchemaPath+"/additionalItems",d+=" "+p+" = true; if ("+k+".length > "+g.length+") {  for (var "+q+" = "+g.length+"; "+q+" < "+k+".length; "+q+"++) { ",n.errorPath=a.util.getPathExpr(a.errorPath,q,a.opts.jsonPointers,!0),C=k+"["+q+"]",n.dataPathArr[r]=q,D=a.validate(n),n.baseId=t,a.util.varOccurences(D,s)<2?d+=" "+a.util.varReplace(D,s,C)+" ":d+=" var "+s+" = "+C+"; "+D+" ",j&&(d+=" if (!"+p+") break; "),d+=" } }  ",j&&(d+=" if ("+p+") { ",o+="}"))}else a.util.schemaHasRules(g,a.RULES.all)&&(n.schema=g,n.schemaPath=h,n.errSchemaPath=i,d+="  for (var "+q+" = 0; "+q+" < "+k+".length; "+q+"++) { ",n.errorPath=a.util.getPathExpr(a.errorPath,q,a.opts.jsonPointers,!0),C=k+"["+q+"]",n.dataPathArr[r]=q,D=a.validate(n),n.baseId=t,a.util.varOccurences(D,s)<2?d+=" "+a.util.varReplace(D,s,C)+" ":d+=" var "+s+" = "+C+"; "+D+" ",j&&(d+=" if (!"+p+") break; "),d+=" }");return j&&(d+=" "+o+" if ("+m+" == errors) {"),d=a.util.cleanUpCode(d)}},{}],28:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=" ",f=a.level,g=a.dataLevel,h=a.schema[b],i=a.schemaPath+a.util.getProperty(b),j=a.errSchemaPath+"/"+b,k=!a.opts.allErrors,l="data"+(g||""),m=a.opts.$data&&h&&h.$data;m?(e+=" var schema"+f+" = "+a.util.getData(h.$data,g,a.dataPathArr)+"; ",d="schema"+f):d=h,e+="var division"+f+";if (",m&&(e+=" "+d+" !== undefined && ( typeof "+d+" != 'number' || "),e+=" (division"+f+" = "+l+" / "+d+", ",e+=a.opts.multipleOfPrecision?" Math.abs(Math.round(division"+f+") - division"+f+") > 1e-"+a.opts.multipleOfPrecision+" ":" division"+f+" !== parseInt(division"+f+") ",e+=" ) ",m&&(e+="  )  ");var n=n||[];n.push(e+=" ) {   "),e="",!1!==a.createErrors?(e+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(j)+" , params: { multipleOf: "+d+" } ",!1!==a.opts.messages&&(e+=" , message: 'should be multiple of ",e+=m?"' + "+d:d+"'"),a.opts.verbose&&(e+=" , schema:  ",e+=m?"validate.schema"+i:""+h,e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var o=e;return e=n.pop(),e+=!a.compositeRule&&k?a.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",k&&(e+=" else { "),e}},{}],29:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="errs__"+e,m=a.util.copy(a);m.level++;var n="valid"+m.level;if(a.util.schemaHasRules(g,a.RULES.all)){m.schema=g,m.schemaPath=h,m.errSchemaPath=i,d+=" var "+l+" = errors;  ";var o,p=a.compositeRule;a.compositeRule=m.compositeRule=!0,m.createErrors=!1,m.opts.allErrors&&(o=m.opts.allErrors,m.opts.allErrors=!1),d+=" "+a.validate(m)+" ",m.createErrors=!0,o&&(m.opts.allErrors=o),a.compositeRule=m.compositeRule=p;var q=q||[];q.push(d+=" if ("+n+") {   "),d="",!1!==a.createErrors?(d+=" { keyword: 'not' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: {} ",!1!==a.opts.messages&&(d+=" , message: 'should NOT be valid' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var r=d;d=q.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+r+"]); ":" validate.errors = ["+r+"]; return false; ":" var err = "+r+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d+=" } else {  errors = "+l+"; if (vErrors !== null) { if ("+l+") vErrors.length = "+l+"; else vErrors = null; } ",a.opts.allErrors&&(d+=" } ")}else d+="  var err =   ",!1!==a.createErrors?(d+=" { keyword: 'not' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: {} ",!1!==a.opts.messages&&(d+=" , message: 'should NOT be valid' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",j&&(d+=" if (false) { ");return d}},{}],30:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="valid"+e,m="errs__"+e,n=a.util.copy(a),o="";n.level++;var p="valid"+n.level,q=n.baseId,r="prevValid"+e,s="passingSchemas"+e;d+="var "+m+" = errors , "+r+" = false , "+l+" = false , "+s+" = null; ";var t=a.compositeRule;a.compositeRule=n.compositeRule=!0;var u=g;if(u)for(var v,w=-1,x=u.length-1;w<x;)v=u[w+=1],a.util.schemaHasRules(v,a.RULES.all)?(n.schema=v,n.schemaPath=h+"["+w+"]",n.errSchemaPath=i+"/"+w,d+="  "+a.validate(n)+" ",n.baseId=q):d+=" var "+p+" = true; ",w&&(d+=" if ("+p+" && "+r+") { "+l+" = false; "+s+" = ["+s+", "+w+"]; } else { ",o+="}"),d+=" if ("+p+") { "+l+" = "+r+" = true; "+s+" = "+w+"; }";return a.compositeRule=n.compositeRule=t,d+=o+"if (!"+l+") {   var err =   ",!1!==a.createErrors?(d+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { passingSchemas: "+s+" } ",!1!==a.opts.messages&&(d+=" , message: 'should match exactly one schema in oneOf' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&j&&(d+=a.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),d+="} else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; }",a.opts.allErrors&&(d+=" } "),d}},{}],31:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=" ",f=a.level,g=a.dataLevel,h=a.schema[b],i=a.schemaPath+a.util.getProperty(b),j=a.errSchemaPath+"/"+b,k=!a.opts.allErrors,l="data"+(g||""),m=a.opts.$data&&h&&h.$data;m?(e+=" var schema"+f+" = "+a.util.getData(h.$data,g,a.dataPathArr)+"; ",d="schema"+f):d=h;var n=m?"(new RegExp("+d+"))":a.usePattern(h);e+="if ( ",m&&(e+=" ("+d+" !== undefined && typeof "+d+" != 'string') || ");var o=o||[];o.push(e+=" !"+n+".test("+l+") ) {   "),e="",!1!==a.createErrors?(e+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(j)+" , params: { pattern:  ",e+=m?""+d:""+a.util.toQuotedString(h),e+="  } ",!1!==a.opts.messages&&(e+=" , message: 'should match pattern \"",e+=m?"' + "+d+" + '":""+a.util.escapeQuotes(h),e+="\"' "),a.opts.verbose&&(e+=" , schema:  ",e+=m?"validate.schema"+i:""+a.util.toQuotedString(h),e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var p=e;return e=o.pop(),e+=!a.compositeRule&&k?a.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+="} ",k&&(e+=" else { "),e}},{}],32:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="errs__"+e,m=a.util.copy(a),n="";m.level++;var o="valid"+m.level,p="key"+e,q="idx"+e,r=m.dataLevel=a.dataLevel+1,s="data"+r,t="dataProperties"+e,u=Object.keys(g||{}),v=a.schema.patternProperties||{},w=Object.keys(v),x=a.schema.additionalProperties,y=u.length||w.length,z=!1===x,A="object"==typeof x&&Object.keys(x).length,B=a.opts.removeAdditional,C=z||A||B,D=a.opts.ownProperties,E=a.baseId,F=a.schema.required;if(F&&(!a.opts.$data||!F.$data)&&F.length<a.opts.loopRequired)var G=a.util.toHash(F);if(d+="var "+l+" = errors;var "+o+" = true;",D&&(d+=" var "+t+" = undefined;"),C){if(d+=D?" "+t+" = "+t+" || Object.keys("+k+"); for (var "+q+"=0; "+q+"<"+t+".length; "+q+"++) { var "+p+" = "+t+"["+q+"]; ":" for (var "+p+" in "+k+") { ",y){if(d+=" var isAdditional"+e+" = !(false ",u.length)if(8<u.length)d+=" || validate.schema"+h+".hasOwnProperty("+p+") ";else{var H=u;if(H)for(var I=-1,J=H.length-1;I<J;)W=H[I+=1],d+=" || "+p+" == "+a.util.toQuotedString(W)+" "}if(w.length){var K=w;if(K)for(var L=-1,M=K.length-1;L<M;)da=K[L+=1],d+=" || "+a.usePattern(da)+".test("+p+") "}d+=" ); if (isAdditional"+e+") { "}if("all"==B)d+=" delete "+k+"["+p+"]; ";else{var N=a.errorPath,O="' + "+p+" + '";if(a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers)),z)if(B)d+=" delete "+k+"["+p+"]; ";else{var P=i;i=a.errSchemaPath+"/additionalProperties",(aa=aa||[]).push(d+=" "+o+" = false; "),d="",!1!==a.createErrors?(d+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { additionalProperty: '"+O+"' } ",!1!==a.opts.messages&&(d+=" , message: '",d+=a.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",d+="' "),
a.opts.verbose&&(d+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var Q=d;d=aa.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i=P,j&&(d+=" break; ")}else if(A)if("failing"==B){d+=" var "+l+" = errors;  ";var R=a.compositeRule;a.compositeRule=m.compositeRule=!0,m.schema=x,m.schemaPath=a.schemaPath+".additionalProperties",m.errSchemaPath=a.errSchemaPath+"/additionalProperties",m.errorPath=a.opts._errorDataPathProperty?a.errorPath:a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers);var S=k+"["+p+"]";m.dataPathArr[r]=p;var T=a.validate(m);m.baseId=E,a.util.varOccurences(T,s)<2?d+=" "+a.util.varReplace(T,s,S)+" ":d+=" var "+s+" = "+S+"; "+T+" ",d+=" if (!"+o+") { errors = "+l+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+k+"["+p+"]; }  ",a.compositeRule=m.compositeRule=R}else m.schema=x,m.schemaPath=a.schemaPath+".additionalProperties",m.errSchemaPath=a.errSchemaPath+"/additionalProperties",m.errorPath=a.opts._errorDataPathProperty?a.errorPath:a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers),S=k+"["+p+"]",m.dataPathArr[r]=p,T=a.validate(m),m.baseId=E,a.util.varOccurences(T,s)<2?d+=" "+a.util.varReplace(T,s,S)+" ":d+=" var "+s+" = "+S+"; "+T+" ",j&&(d+=" if (!"+o+") break; ");a.errorPath=N}y&&(d+=" } "),d+=" }  ",j&&(d+=" if ("+o+") { ",n+="}")}var U=a.opts.useDefaults&&!a.compositeRule;if(u.length){var V=u;if(V)for(var W,X=-1,Y=V.length-1;X<Y;){if(W=V[X+=1],a.util.schemaHasRules(ga=g[W],a.RULES.all)){var Z=a.util.getProperty(W),$=(S=k+Z,U&&void 0!==ga.default);if(m.schema=ga,m.schemaPath=h+Z,m.errSchemaPath=i+"/"+a.util.escapeFragment(W),m.errorPath=a.util.getPath(a.errorPath,W,a.opts.jsonPointers),m.dataPathArr[r]=a.util.toQuotedString(W),T=a.validate(m),m.baseId=E,a.util.varOccurences(T,s)<2){T=a.util.varReplace(T,s,S);var _=S}else _=s,d+=" var "+s+" = "+S+"; ";if($)d+=" "+T+" ";else{if(G&&G[W]){d+=" if ( "+_+" === undefined ",D&&(d+=" || ! Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(W)+"') "),d+=") { "+o+" = false; ",N=a.errorPath,P=i;var aa,ba=a.util.escapeQuotes(W);a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(N,W,a.opts.jsonPointers)),i=a.errSchemaPath+"/required",(aa=aa||[]).push(d),d="",!1!==a.createErrors?(d+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { missingProperty: '"+ba+"' } ",!1!==a.opts.messages&&(d+=" , message: '",d+=a.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+ba+"\\'",d+="' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",Q=d,d=aa.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i=P,a.errorPath=N,d+=" } else { "}else j?(d+=" if ( "+_+" === undefined ",D&&(d+=" || ! Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(W)+"') "),d+=") { "+o+" = true; } else { "):(d+=" if ("+_+" !== undefined ",D&&(d+=" &&   Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(W)+"') "),d+=" ) { ");d+=" "+T+" } "}}j&&(d+=" if ("+o+") { ",n+="}")}}if(w.length){var ca=w;if(ca)for(var da,ea=-1,fa=ca.length-1;ea<fa;){var ga;da=ca[ea+=1],a.util.schemaHasRules(ga=v[da],a.RULES.all)&&(m.schema=ga,m.schemaPath=a.schemaPath+".patternProperties"+a.util.getProperty(da),m.errSchemaPath=a.errSchemaPath+"/patternProperties/"+a.util.escapeFragment(da),d+=D?" "+t+" = "+t+" || Object.keys("+k+"); for (var "+q+"=0; "+q+"<"+t+".length; "+q+"++) { var "+p+" = "+t+"["+q+"]; ":" for (var "+p+" in "+k+") { ",d+=" if ("+a.usePattern(da)+".test("+p+")) { ",m.errorPath=a.util.getPathExpr(a.errorPath,p,a.opts.jsonPointers),S=k+"["+p+"]",m.dataPathArr[r]=p,T=a.validate(m),m.baseId=E,a.util.varOccurences(T,s)<2?d+=" "+a.util.varReplace(T,s,S)+" ":d+=" var "+s+" = "+S+"; "+T+" ",j&&(d+=" if (!"+o+") break; "),d+=" } ",j&&(d+=" else "+o+" = true; "),d+=" }  ",j&&(d+=" if ("+o+") { ",n+="}"))}}return j&&(d+=" "+n+" if ("+l+" == errors) {"),d=a.util.cleanUpCode(d)}},{}],33:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="errs__"+e,m=a.util.copy(a);m.level++;var n="valid"+m.level;if(a.util.schemaHasRules(g,a.RULES.all)){m.schema=g,m.schemaPath=h,m.errSchemaPath=i;var o="key"+e,p="idx"+e,q="i"+e,r="' + "+o+" + '",s="data"+(m.dataLevel=a.dataLevel+1),t="dataProperties"+e,u=a.opts.ownProperties,v=a.baseId;d+=" var "+l+" = errors; ",u&&(d+=" var "+t+" = undefined; "),d+=u?" "+t+" = "+t+" || Object.keys("+k+"); for (var "+p+"=0; "+p+"<"+t+".length; "+p+"++) { var "+o+" = "+t+"["+p+"]; ":" for (var "+o+" in "+k+") { ",d+=" var startErrs"+e+" = errors; ";var w=o,x=a.compositeRule;a.compositeRule=m.compositeRule=!0;var y=a.validate(m);m.baseId=v,a.util.varOccurences(y,s)<2?d+=" "+a.util.varReplace(y,s,w)+" ":d+=" var "+s+" = "+w+"; "+y+" ",a.compositeRule=m.compositeRule=x,d+=" if (!"+n+") { for (var "+q+"=startErrs"+e+"; "+q+"<errors; "+q+"++) { vErrors["+q+"].propertyName = "+o+"; }   var err =   ",!1!==a.createErrors?(d+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { propertyName: '"+r+"' } ",!1!==a.opts.messages&&(d+=" , message: 'property name \\'"+r+"\\' is invalid' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&j&&(d+=a.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),j&&(d+=" break; "),d+=" } }"}return j&&(d+="  if ("+l+" == errors) {"),d=a.util.cleanUpCode(d)}},{}],34:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e,f=" ",g=a.dataLevel,h=a.schema[b],i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(g||""),l="valid"+a.level;if("#"==h||"#/"==h)a.isRoot?(d=a.async,e="validate"):(d=!0===a.root.schema.$async,e="root.refVal[0]");else{var m=a.resolveRef(a.baseId,h,a.isRoot);if(void 0===m){var n=a.MissingRefError.message(a.baseId,h);if("fail"==a.opts.missingRefs){a.logger.error(n),(r=r||[]).push(f),f="",!1!==a.createErrors?(f+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { ref: '"+a.util.escapeQuotes(h)+"' } ",!1!==a.opts.messages&&(f+=" , message: 'can\\'t resolve reference "+a.util.escapeQuotes(h)+"' "),a.opts.verbose&&(f+=" , schema: "+a.util.toQuotedString(h)+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),f+=" } "):f+=" {} ";var o=f;f=r.pop(),f+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",j&&(f+=" if (false) { ")}else{if("ignore"!=a.opts.missingRefs)throw new a.MissingRefError(a.baseId,h,n);a.logger.warn(n),j&&(f+=" if (true) { ")}}else if(m.inline){var p=a.util.copy(a);p.level++;var q="valid"+p.level;p.schema=m.schema,p.schemaPath="",p.errSchemaPath=h,f+=" "+a.validate(p).replace(/validate\.schema/g,m.code)+" ",j&&(f+=" if ("+q+") { ")}else d=!0===m.$async||a.async&&!1!==m.$async,e=m.code}if(e){var r;(r=r||[]).push(f),f="",f+=a.opts.passContext?" "+e+".call(this, ":" "+e+"( ",f+=" "+k+", (dataPath || '')",'""'!=a.errorPath&&(f+=" + "+a.errorPath);var s=f+=" , "+(g?"data"+(g-1||""):"parentData")+" , "+(g?a.dataPathArr[g]:"parentDataProperty")+", rootData)  ";if(f=r.pop(),d){if(!a.async)throw new Error("async schema referenced by sync schema");j&&(f+=" var "+l+"; "),f+=" try { await "+s+"; ",j&&(f+=" "+l+" = true; "),f+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",j&&(f+=" "+l+" = false; "),f+=" } ",j&&(f+=" if ("+l+") { ")}else f+=" if (!"+s+") { if (vErrors === null) vErrors = "+e+".errors; else vErrors = vErrors.concat("+e+".errors); errors = vErrors.length; } ",j&&(f+=" else { ")}return f}},{}],35:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=" ",e=a.level,f=a.dataLevel,g=a.schema[b],h=a.schemaPath+a.util.getProperty(b),i=a.errSchemaPath+"/"+b,j=!a.opts.allErrors,k="data"+(f||""),l="valid"+e,m=a.opts.$data&&g&&g.$data;m&&(d+=" var schema"+e+" = "+a.util.getData(g.$data,f,a.dataPathArr)+"; ");var n="schema"+e;if(!m)if(g.length<a.opts.loopRequired&&a.schema.properties&&Object.keys(a.schema.properties).length){var o=[],p=g;if(p)for(var q,r=-1,s=p.length-1;r<s;){q=p[r+=1];var t=a.schema.properties[q];t&&a.util.schemaHasRules(t,a.RULES.all)||(o[o.length]=q)}}else o=g;if(m||o.length){var u=a.errorPath,v=m||a.opts.loopRequired<=o.length,w=a.opts.ownProperties;if(j)if(d+=" var missing"+e+"; ",v){m||(d+=" var "+n+" = validate.schema"+h+"; ");var x="' + "+(D="schema"+e+"["+(A="i"+e)+"]")+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(u,D,a.opts.jsonPointers)),d+=" var "+l+" = true; ",m&&(d+=" if (schema"+e+" === undefined) "+l+" = true; else if (!Array.isArray(schema"+e+")) "+l+" = false; else {"),d+=" for (var "+A+" = 0; "+A+" < "+n+".length; "+A+"++) { "+l+" = "+k+"["+n+"["+A+"]] !== undefined ",w&&(d+=" &&   Object.prototype.hasOwnProperty.call("+k+", "+n+"["+A+"]) "),d+="; if (!"+l+") break; } ",m&&(d+="  }  "),(C=C||[]).push(d+="  if (!"+l+") {   "),d="",!1!==a.createErrors?(d+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { missingProperty: '"+x+"' } ",!1!==a.opts.messages&&(d+=" , message: '",d+=a.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+x+"\\'",d+="' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ";var y=d;d=C.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d+=" } else { "}else{d+=" if ( ";var z=o;if(z)for(var A=-1,B=z.length-1;A<B;)F=z[A+=1],A&&(d+=" || "),d+=" ( ( "+(J=k+(I=a.util.getProperty(F)))+" === undefined ",w&&(d+=" || ! Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(F)+"') "),d+=") && (missing"+e+" = "+a.util.toQuotedString(a.opts.jsonPointers?F:I)+") ) ";d+=") {  ";var C;x="' + "+(D="missing"+e)+" + '",a.opts._errorDataPathProperty&&(a.errorPath=a.opts.jsonPointers?a.util.getPathExpr(u,D,!0):u+" + "+D),(C=C||[]).push(d),d="",!1!==a.createErrors?(d+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { missingProperty: '"+x+"' } ",!1!==a.opts.messages&&(d+=" , message: '",d+=a.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+x+"\\'",d+="' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",y=d,d=C.pop(),d+=!a.compositeRule&&j?a.async?" throw new ValidationError(["+y+"]); ":" validate.errors = ["+y+"]; return false; ":" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d+=" } else { "}else if(v){m||(d+=" var "+n+" = validate.schema"+h+"; ");var D;x="' + "+(D="schema"+e+"["+(A="i"+e)+"]")+" + '",a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(u,D,a.opts.jsonPointers)),m&&(d+=" if ("+n+" && !Array.isArray("+n+")) {  var err =   ",!1!==a.createErrors?(d+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { missingProperty: '"+x+"' } ",!1!==a.opts.messages&&(d+=" , message: '",d+=a.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+x+"\\'",d+="' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+n+" !== undefined) { "),d+=" for (var "+A+" = 0; "+A+" < "+n+".length; "+A+"++) { if ("+k+"["+n+"["+A+"]] === undefined ",w&&(d+=" || ! Object.prototype.hasOwnProperty.call("+k+", "+n+"["+A+"]) "),d+=") {  var err =   ",!1!==a.createErrors?(d+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { missingProperty: '"+x+"' } ",!1!==a.opts.messages&&(d+=" , message: '",d+=a.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+x+"\\'",d+="' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",m&&(d+="  }  ")}else{var E=o;if(E)for(var F,G=-1,H=E.length-1;G<H;){F=E[G+=1];var I=a.util.getProperty(F),J=(x=a.util.escapeQuotes(F),k+I);a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(u,F,a.opts.jsonPointers)),d+=" if ( "+J+" === undefined ",w&&(d+=" || ! Object.prototype.hasOwnProperty.call("+k+", '"+a.util.escapeQuotes(F)+"') "),d+=") {  var err =   ",!1!==a.createErrors?(d+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { missingProperty: '"+x+"' } ",!1!==a.opts.messages&&(d+=" , message: '",d+=a.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+x+"\\'",d+="' "),a.opts.verbose&&(d+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+k+" "),d+=" } "):d+=" {} ",d+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a.errorPath=u}else j&&(d+=" if (true) {");return d}},{}],36:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d,e=" ",f=a.level,g=a.dataLevel,h=a.schema[b],i=a.schemaPath+a.util.getProperty(b),j=a.errSchemaPath+"/"+b,k=!a.opts.allErrors,l="data"+(g||""),m="valid"+f,n=a.opts.$data&&h&&h.$data;if(n?(e+=" var schema"+f+" = "+a.util.getData(h.$data,g,a.dataPathArr)+"; ",d="schema"+f):d=h,(h||n)&&!1!==a.opts.uniqueItems){n&&(e+=" var "+m+"; if ("+d+" === false || "+d+" === undefined) "+m+" = true; else if (typeof "+d+" != 'boolean') "+m+" = false; else { "),e+=" var i = "+l+".length , "+m+" = true , j; if (i > 1) { ";var o=a.schema.items&&a.schema.items.type,p=Array.isArray(o);!o||"object"==o||"array"==o||p&&(0<=o.indexOf("object")||0<=o.indexOf("array"))?e+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+l+"[i], "+l+"[j])) { "+m+" = false; break outer; } } } ":(e+=" var itemIndices = {}, item; for (;i--;) { var item = "+l+"[i]; ",e+=" if ("+a.util["checkDataType"+(p?"s":"")](o,"item",!0)+") continue; ",p&&(e+=" if (typeof item == 'string') item = '\"' + item; "),e+=" if (typeof itemIndices[item] == 'number') { "+m+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),e+=" } ",n&&(e+="  }  ");var q=q||[];q.push(e+=" if (!"+m+") {   "),e="",!1!==a.createErrors?(e+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(j)+" , params: { i: i, j: j } ",!1!==a.opts.messages&&(e+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),a.opts.verbose&&(e+=" , schema:  ",e+=n?"validate.schema"+i:""+h,e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+l+" "),e+=" } "):e+=" {} ";var r=e;e=q.pop(),e+=!a.compositeRule&&k?a.async?" throw new ValidationError(["+r+"]); ":" validate.errors = ["+r+"]; return false; ":" var err = "+r+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",k&&(e+=" else { ")}else k&&(e+=" if (true) { ");return e}},{}],37:[function(a,b,c){"use strict";b.exports=function(a,b,c){function d(a){for(var b=a.rules,c=0;c<b.length;c++)if(e(b[c]))return!0}function e(b){return void 0!==a.schema[b.keyword]||b.implements&&function(b){for(var c=b.implements,d=0;d<c.length;d++)if(void 0!==a.schema[c[d]])return!0}(b)}var f="",g=!0===a.schema.$async,h=a.util.schemaHasRulesExcept(a.schema,a.RULES.all,"$ref"),i=a.self._getId(a.schema);if(a.isTop&&(f+=" var validate = ",g&&(a.async=!0,f+="async "),f+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",i&&(a.opts.sourceCode||a.opts.processCode)&&(f+=" /*# sourceURL="+i+" */ ")),"boolean"==typeof a.schema||!h&&!a.schema.$ref){var j=a.level,k=a.dataLevel,l=a.schema[b="false schema"],m=a.schemaPath+a.util.getProperty(b),n=a.errSchemaPath+"/"+b,o=!a.opts.allErrors,p="data"+(k||""),q="valid"+j;if(!1===a.schema){a.isTop?o=!0:f+=" var "+q+" = false; ",(X=X||[]).push(f),f="",!1!==a.createErrors?(f+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(n)+" , params: {} ",!1!==a.opts.messages&&(f+=" , message: 'boolean schema is false' "),a.opts.verbose&&(f+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),f+=" } "):f+=" {} ";var r=f;f=X.pop(),f+=!a.compositeRule&&o?a.async?" throw new ValidationError(["+r+"]); ":" validate.errors = ["+r+"]; return false; ":" var err = "+r+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else f+=a.isTop?g?" return data; ":" validate.errors = null; return true; ":" var "+q+" = true; ";return a.isTop&&(f+=" }; return validate; "),f}if(a.isTop){var s=a.isTop;j=a.level=0,k=a.dataLevel=0,p="data",a.rootId=a.resolve.fullPath(a.self._getId(a.root.schema)),a.baseId=a.baseId||a.rootId,delete a.isTop,a.dataPathArr=[void 0],f+=" var vErrors = null; ",f+=" var errors = 0;     ",f+=" if (rootData === undefined) rootData = data; "}else{if(j=a.level,p="data"+((k=a.dataLevel)||""),i&&(a.baseId=a.resolve.url(a.baseId,i)),g&&!a.async)throw new Error("async schema in sync schema");f+=" var errs_"+j+" = errors;"}q="valid"+j,o=!a.opts.allErrors;var t="",u="",v=a.schema.type,w=Array.isArray(v);if(w&&1==v.length&&(v=v[0],w=!1),a.schema.$ref&&h){if("fail"==a.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+a.errSchemaPath+'" (see option extendRefs)');!0!==a.opts.extendRefs&&(h=!1,a.logger.warn('$ref: keywords ignored in schema at path "'+a.errSchemaPath+'"'))}if(a.schema.$comment&&a.opts.$comment&&(f+=" "+a.RULES.all.$comment.code(a,"$comment")),v){if(a.opts.coerceTypes)var x=a.util.coerceToTypes(a.opts.coerceTypes,v);var y=a.RULES.types[v];if(x||w||!0===y||y&&!d(y)){if(m=a.schemaPath+".type",n=a.errSchemaPath+"/type",m=a.schemaPath+".type",n=a.errSchemaPath+"/type",f+=" if ("+a.util[w?"checkDataTypes":"checkDataType"](v,p,!0)+") { ",x){var z="dataType"+j,A="coerced"+j;f+=" var "+z+" = typeof "+p+"; ","array"==a.opts.coerceTypes&&(f+=" if ("+z+" == 'object' && Array.isArray("+p+")) "+z+" = 'array'; "),f+=" var "+A+" = undefined; ";var B="",C=x;if(C)for(var D,E=-1,F=C.length-1;E<F;)D=C[E+=1],E&&(f+=" if ("+A+" === undefined) { ",B+="}"),"array"==a.opts.coerceTypes&&"array"!=D&&(f+=" if ("+z+" == 'array' && "+p+".length == 1) { "+A+" = "+p+" = "+p+"[0]; "+z+" = typeof "+p+";  } "),"string"==D?f+=" if ("+z+" == 'number' || "+z+" == 'boolean') "+A+" = '' + "+p+"; else if ("+p+" === null) "+A+" = ''; ":"number"==D||"integer"==D?(f+=" if ("+z+" == 'boolean' || "+p+" === null || ("+z+" == 'string' && "+p+" && "+p+" == +"+p+" ","integer"==D&&(f+=" && !("+p+" % 1)"),f+=")) "+A+" = +"+p+"; "):"boolean"==D?f+=" if ("+p+" === 'false' || "+p+" === 0 || "+p+" === null) "+A+" = false; else if ("+p+" === 'true' || "+p+" === 1) "+A+" = true; ":"null"==D?f+=" if ("+p+" === '' || "+p+" === 0 || "+p+" === false) "+A+" = null; ":"array"==a.opts.coerceTypes&&"array"==D&&(f+=" if ("+z+" == 'string' || "+z+" == 'number' || "+z+" == 'boolean' || "+p+" == null) "+A+" = ["+p+"]; ");(X=X||[]).push(f+=" "+B+" if ("+A+" === undefined) {   "),f="",!1!==a.createErrors?(f+=" { keyword: 'type' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(n)+" , params: { type: '",f+=w?""+v.join(","):""+v,f+="' } ",!1!==a.opts.messages&&(f+=" , message: 'should be ",f+=w?""+v.join(","):""+v,f+="' "),a.opts.verbose&&(f+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),f+=" } "):f+=" {} ",r=f,f=X.pop(),f+=!a.compositeRule&&o?a.async?" throw new ValidationError(["+r+"]); ":" validate.errors = ["+r+"]; return false; ":" var err = "+r+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f+=" } else {  ";var G=k?"data"+(k-1||""):"parentData";f+=" "+p+" = "+A+"; ",k||(f+="if ("+G+" !== undefined)"),f+=" "+G+"["+(k?a.dataPathArr[k]:"parentDataProperty")+"] = "+A+"; } "}else(X=X||[]).push(f),f="",!1!==a.createErrors?(f+=" { keyword: 'type' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(n)+" , params: { type: '",f+=w?""+v.join(","):""+v,f+="' } ",!1!==a.opts.messages&&(f+=" , message: 'should be ",f+=w?""+v.join(","):""+v,f+="' "),a.opts.verbose&&(f+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),f+=" } "):f+=" {} ",r=f,f=X.pop(),f+=!a.compositeRule&&o?a.async?" throw new ValidationError(["+r+"]); ":" validate.errors = ["+r+"]; return false; ":" var err = "+r+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";f+=" } "}}if(a.schema.$ref&&!h)f+=" "+a.RULES.all.$ref.code(a,"$ref")+" ",o&&(f+=" } if (errors === ",f+=s?"0":"errs_"+j,f+=") { ",u+="}");else{var H=a.RULES;if(H)for(var I=-1,J=H.length-1;I<J;)if(d(y=H[I+=1])){if(y.type&&(f+=" if ("+a.util.checkDataType(y.type,p)+") { "),a.opts.useDefaults&&!a.compositeRule)if("object"==y.type&&a.schema.properties){l=a.schema.properties;var K=Object.keys(l);if(K)for(var L,M=-1,N=K.length-1;M<N;)void 0!==(P=l[L=K[M+=1]]).default&&(f+="  if ("+(R=p+a.util.getProperty(L))+" === undefined) "+R+" = ",f+="shared"==a.opts.useDefaults?" "+a.useDefault(P.default)+" ":" "+JSON.stringify(P.default)+" ",f+="; ")}else if("array"==y.type&&Array.isArray(a.schema.items)){var O=a.schema.items;if(O){E=-1;for(var P,Q=O.length-1;E<Q;){var R;void 0!==(P=O[E+=1]).default&&(f+="  if ("+(R=p+"["+E+"]")+" === undefined) "+R+" = ",f+="shared"==a.opts.useDefaults?" "+a.useDefault(P.default)+" ":" "+JSON.stringify(P.default)+" ",f+="; ")}}}var S=y.rules;if(S)for(var T,U=-1,V=S.length-1;U<V;)if(e(T=S[U+=1])){var W=T.code(a,T.keyword,y.type);W&&(f+=" "+W+" ",o&&(t+="}"))}if(o&&(f+=" "+t+" ",t=""),y.type&&(f+=" } ",v&&v===y.type&&!x)){var X;m=a.schemaPath+".type",n=a.errSchemaPath+"/type",(X=X||[]).push(f+=" else { "),f="",!1!==a.createErrors?(f+=" { keyword: 'type' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(n)+" , params: { type: '",f+=w?""+v.join(","):""+v,f+="' } ",!1!==a.opts.messages&&(f+=" , message: 'should be ",f+=w?""+v.join(","):""+v,f+="' "),a.opts.verbose&&(f+=" , schema: validate.schema"+m+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),f+=" } "):f+=" {} ",r=f,f=X.pop(),f+=!a.compositeRule&&o?a.async?" throw new ValidationError(["+r+"]); ":" validate.errors = ["+r+"]; return false; ":" var err = "+r+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",f+=" } "}o&&(f+=" if (errors === ",f+=s?"0":"errs_"+j,f+=") { ",u+="}")}}return o&&(f+=" "+u+" "),s?(g?(f+=" if (errors === 0) return data;           ",f+=" else throw new ValidationError(vErrors); "):(f+=" validate.errors = vErrors; ",f+=" return errors === 0;       "),f+=" }; return validate;"):f+=" var "+q+" = errors === errs_"+j+";",f=a.util.cleanUpCode(f),s&&(f=a.util.finalCleanUpCode(f,g)),f}},{}],38:[function(a,b,c){"use strict";var d=/^[a-z_$][a-z0-9_$-]*$/i,e=a("./dotjs/custom");b.exports={add:function(a,b){function c(a,b,c){for(var d,f=0;f<g.length;f++){var h=g[f];if(h.type==b){d=h;break}}d||g.push(d={type:b,rules:[]});var i={keyword:a,definition:c,custom:!0,code:e,implements:c.implements};d.rules.push(i),g.custom[a]=i}function f(a){if(!g.types[a])throw new Error("Unknown type "+a)}var g=this.RULES;if(g.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!d.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(b){if(b.macro&&void 0!==b.valid)throw new Error('"valid" option cannot be used with macro keywords');var h=b.type;if(Array.isArray(h)){var i,j=h.length;for(i=0;i<j;i++)f(h[i]);for(i=0;i<j;i++)c(a,h[i],b)}else h&&f(h),c(a,h,b);var k=!0===b.$data&&this._opts.$data;if(k&&!b.validate)throw new Error('$data support: "validate" function is not defined');var l=b.metaSchema;l&&(k&&(l={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),b.validateSchema=this.compile(l,!0))}return g.keywords[a]=g.all[a]=!0,this},get:function(a){var b=this.RULES.custom[a];return b?b.definition:this.RULES.keywords[a]||!1},remove:function(a){var b=this.RULES;delete b.keywords[a],delete b.all[a],delete b.custom[a];for(var c=0;c<b.length;c++)for(var d=b[c].rules,e=0;e<d.length;e++)if(d[e].keyword==a){d.splice(e,1);break}return this}}},{"./dotjs/custom":21}],39:[function(a,b,c){b.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],40:[function(a,b,c){b.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],41:[function(a,b,c){"use strict";var d=Array.isArray,e=Object.keys,f=Object.prototype.hasOwnProperty;b.exports=function a(b,c){if(b===c)return!0;if(b&&c&&"object"==typeof b&&"object"==typeof c){var g,h,i,j=d(b),k=d(c);if(j&&k){if((h=b.length)!=c.length)return!1;for(g=h;0!=g--;)if(!a(b[g],c[g]))return!1;return!0}if(j!=k)return!1;var l=b instanceof Date,m=c instanceof Date;if(l!=m)return!1;if(l&&m)return b.getTime()==c.getTime();var n=b instanceof RegExp,o=c instanceof RegExp;if(n!=o)return!1;if(n&&o)return b.toString()==c.toString();var p=e(b);if((h=p.length)!==e(c).length)return!1;for(g=h;0!=g--;)if(!f.call(c,p[g]))return!1;for(g=h;0!=g--;)if(!a(b[i=p[g]],c[i]))return!1;return!0}return b!=b&&c!=c}},{}],42:[function(a,b,c){"use strict";b.exports=function(a,b){b||(b={}),"function"==typeof b&&(b={cmp:b});var c,d="boolean"==typeof b.cycles&&b.cycles,e=b.cmp&&(c=b.cmp,function(a){return function(b,d){return c({key:b,value:a[b]},{key:d,value:a[d]})}}),f=[];return function a(b){if(b&&b.toJSON&&"function"==typeof b.toJSON&&(b=b.toJSON()),void 0!==b){if("number"==typeof b)return isFinite(b)?""+b:"null";if("object"!=typeof b)return JSON.stringify(b);var c,g;if(Array.isArray(b)){for(g="[",c=0;c<b.length;c++)c&&(g+=","),g+=a(b[c])||"null";return g+"]"}if(null===b)return"null";if(-1!==f.indexOf(b)){if(d)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var h=f.push(b)-1,i=Object.keys(b).sort(e&&e(b));for(g="",c=0;c<i.length;c++){var j=i[c],k=a(b[j]);k&&(g&&(g+=","),g+=JSON.stringify(j)+":"+k)}return f.splice(h,1),"{"+g+"}"}}(a)}},{}],43:[function(a,b,c){"use strict";var d=b.exports=function(a,b,c){"function"==typeof b&&(c=b,b={}),function a(b,c,e,f,g,h,i,j,k){if(e&&"object"==typeof e&&!Array.isArray(e))for(var l in c(e,f,g,h,i,j,k),e){var m=e[l];if(Array.isArray(m)){if(l in d.arrayKeywords)for(var n=0;n<m.length;n++)a(b,c,m[n],f+"/"+l+"/"+n,g,f,l,e,n)}else if(l in d.propsKeywords){if(m&&"object"==typeof m)for(var o in m)a(b,c,m[o],f+"/"+l+"/"+o.replace(/~/g,"~0").replace(/\//g,"~1"),g,f,l,e,o)}else(l in d.keywords||b.allKeys&&!(l in d.skipKeywords))&&a(b,c,m,f+"/"+l,g,f,l,e)}}(b,c,a,"",a)};d.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},d.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},d.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},d.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},{}],44:[function(a,b,c){var d;d=this,function(a){"use strict";function b(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(1<b.length){b[0]=b[0].slice(0,-1);for(var d=b.length-1,e=1;e<d;++e)b[e]=b[e].slice(1,-1);return b[d]=b[d].slice(1),b.join("")}return b[0]}function c(a){return"(?:"+a+")"}function d(a){return void 0===a?"undefined":null===a?"null":Object.prototype.toString.call(a).split(" ").pop().split("]").shift().toLowerCase()}function e(a){return a.toUpperCase()}function f(a){
var d="[A-Za-z]",e="[0-9]",f=b(e,"[A-Fa-f]"),g=c(c("%[EFef]"+f+"%"+f+f+"%"+f+f)+"|"+c("%[89A-Fa-f]"+f+"%"+f+f)+"|"+c("%"+f+f)),h="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",i=b("[\\:\\/\\?\\#\\[\\]\\@]",h),j=a?"[\\uE000-\\uF8FF]":"[]",k=b(d,e,"[\\-\\.\\_\\~]",a?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),l=c(d+b(d,e,"[\\+\\-\\.]")+"*"),m=c(c(g+"|"+b(k,h,"[\\:]"))+"*"),n=(c(c("25[0-5]")+"|"+c("2[0-4]"+e)+"|"+c("1"+e+e)+"|"+c("[1-9]"+e)+"|"+e),c(c("25[0-5]")+"|"+c("2[0-4]"+e)+"|"+c("1"+e+e)+"|"+c("0?[1-9]"+e)+"|0?0?"+e)),o=c(n+"\\."+n+"\\."+n+"\\."+n),p=c(f+"{1,4}"),q=c(c(p+"\\:"+p)+"|"+o),r=c([c(c(p+"\\:")+"{6}"+q),c("\\:\\:"+c(p+"\\:")+"{5}"+q),c(c(p)+"?\\:\\:"+c(p+"\\:")+"{4}"+q),c(c(c(p+"\\:")+"{0,1}"+p)+"?\\:\\:"+c(p+"\\:")+"{3}"+q),c(c(c(p+"\\:")+"{0,2}"+p)+"?\\:\\:"+c(p+"\\:")+"{2}"+q),c(c(c(p+"\\:")+"{0,3}"+p)+"?\\:\\:"+p+"\\:"+q),c(c(c(p+"\\:")+"{0,4}"+p)+"?\\:\\:"+q),c(c(c(p+"\\:")+"{0,5}"+p)+"?\\:\\:"+p),c(c(c(p+"\\:")+"{0,6}"+p)+"?\\:\\:")].join("|")),s=c(c(k+"|"+g)+"+"),t=(c(r+"\\%25"+s),c("\\["+c(c(r+c("\\%25|\\%(?!"+f+"{2})")+s)+"|"+r+"|"+c("[vV]"+f+"+\\."+b(k,h,"[\\:]")+"+"))+"\\]")),u=c(c(g+"|"+b(k,h))+"*"),v=c(t+"|"+o+"(?!"+u+")|"+u),w=c(e+"*"),x=c(c(m+"@")+"?"+v+c("\\:"+w)+"?"),y=c(g+"|"+b(k,h,"[\\:\\@]")),z=c(y+"*"),A=c(y+"+"),B=c(c(g+"|"+b(k,h,"[\\@]"))+"+"),C=c(c("\\/"+z)+"*"),D=c("\\/"+c(A+C)+"?"),E=c(B+C),F=c(A+C),G="(?!"+y+")",H=(c(C+"|"+D+"|"+E+"|"+F+"|"+G),c(c(y+"|"+b("[\\/\\?]",j))+"*")),I=c(c(y+"|[\\/\\?]")+"*"),J=c(c("\\/\\/"+x+C)+"|"+D+"|"+F+"|"+G);return c(c(l+"\\:"+J+c("\\?"+H)+"?"+c("\\#"+I)+"?")+"|"+c(c(c("\\/\\/"+x+C)+"|"+D+"|"+E+"|"+G)+c("\\?"+H)+"?"+c("\\#"+I)+"?")),c(l+"\\:"+J+c("\\?"+H)+"?"),c(c("\\/\\/("+c("("+m+")@")+"?("+v+")"+c("\\:("+w+")")+"?)")+"?("+C+"|"+D+"|"+F+"|"+G+")"),c("\\?("+H+")"),c("\\#("+I+")"),c(c("\\/\\/("+c("("+m+")@")+"?("+v+")"+c("\\:("+w+")")+"?)")+"?("+C+"|"+D+"|"+E+"|"+G+")"),c("\\?("+H+")"),c("\\#("+I+")"),c(c("\\/\\/("+c("("+m+")@")+"?("+v+")"+c("\\:("+w+")")+"?)")+"?("+C+"|"+D+"|"+F+"|"+G+")"),c("\\?("+H+")"),c("\\#("+I+")"),c("("+m+")@"),c("\\:("+w+")"),{NOT_SCHEME:new RegExp(b("[^]",d,e,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(b("[^\\%\\:]",k,h),"g"),NOT_HOST:new RegExp(b("[^\\%\\[\\]\\:]",k,h),"g"),NOT_PATH:new RegExp(b("[^\\%\\/\\:\\@]",k,h),"g"),NOT_PATH_NOSCHEME:new RegExp(b("[^\\%\\/\\@]",k,h),"g"),NOT_QUERY:new RegExp(b("[^\\%]",k,h,"[\\:\\@\\/\\?]",j),"g"),NOT_FRAGMENT:new RegExp(b("[^\\%]",k,h,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(b("[^]",k,h),"g"),UNRESERVED:new RegExp(k,"g"),OTHER_CHARS:new RegExp(b("[^\\%]",k,i),"g"),PCT_ENCODED:new RegExp(g,"g"),IPV4ADDRESS:new RegExp("^("+o+")$"),IPV6ADDRESS:new RegExp("^\\[?("+r+")"+c(c("\\%25|\\%(?!"+f+"{2})")+"("+s+")")+"?\\]?$")}}function g(a){throw new RangeError(C[a])}function h(a,b){var c=a.split("@"),d="";return 1<c.length&&(d=c[0]+"@",a=c[1]),d+function(a,b){for(var c=[],d=a.length;d--;)c[d]=b(a[d]);return c}((a=a.replace(B,".")).split("."),b).join(".")}function i(a){for(var b=[],c=0,d=a.length;c<d;){var e=a.charCodeAt(c++);if(55296<=e&&e<=56319&&c<d){var f=a.charCodeAt(c++);56320==(64512&f)?b.push(((1023&e)<<10)+(1023&f)+65536):(b.push(e),c--)}else b.push(e)}return b}function j(a){var b=a.charCodeAt(0);return b<16?"%0"+b.toString(16).toUpperCase():b<128?"%"+b.toString(16).toUpperCase():b<2048?"%"+(b>>6|192).toString(16).toUpperCase()+"%"+(63&b|128).toString(16).toUpperCase():"%"+(b>>12|224).toString(16).toUpperCase()+"%"+(b>>6&63|128).toString(16).toUpperCase()+"%"+(63&b|128).toString(16).toUpperCase()}function k(a){for(var b="",c=0,d=a.length;c<d;){var e=parseInt(a.substr(c+1,2),16);if(e<128)b+=String.fromCharCode(e),c+=3;else if(194<=e&&e<224){if(6<=d-c){var f=parseInt(a.substr(c+4,2),16);b+=String.fromCharCode((31&e)<<6|63&f)}else b+=a.substr(c,6);c+=6}else if(224<=e){if(9<=d-c){var g=parseInt(a.substr(c+4,2),16),h=parseInt(a.substr(c+7,2),16);b+=String.fromCharCode((15&e)<<12|(63&g)<<6|63&h)}else b+=a.substr(c,9);c+=9}else b+=a.substr(c,3),c+=3}return b}function l(a,b){function c(a){var c=k(a);return c.match(b.UNRESERVED)?c:a}return a.scheme&&(a.scheme=String(a.scheme).replace(b.PCT_ENCODED,c).toLowerCase().replace(b.NOT_SCHEME,"")),void 0!==a.userinfo&&(a.userinfo=String(a.userinfo).replace(b.PCT_ENCODED,c).replace(b.NOT_USERINFO,j).replace(b.PCT_ENCODED,e)),void 0!==a.host&&(a.host=String(a.host).replace(b.PCT_ENCODED,c).toLowerCase().replace(b.NOT_HOST,j).replace(b.PCT_ENCODED,e)),void 0!==a.path&&(a.path=String(a.path).replace(b.PCT_ENCODED,c).replace(a.scheme?b.NOT_PATH:b.NOT_PATH_NOSCHEME,j).replace(b.PCT_ENCODED,e)),void 0!==a.query&&(a.query=String(a.query).replace(b.PCT_ENCODED,c).replace(b.NOT_QUERY,j).replace(b.PCT_ENCODED,e)),void 0!==a.fragment&&(a.fragment=String(a.fragment).replace(b.PCT_ENCODED,c).replace(b.NOT_FRAGMENT,j).replace(b.PCT_ENCODED,e)),a}function m(a){return a.replace(/^0*(.*)/,"$1")||"0"}function n(a,b){var c=a.match(b.IPV4ADDRESS)||[],d=x(c,2)[1];return d?d.split(".").map(m).join("."):a}function o(a,b){var c=a.match(b.IPV6ADDRESS)||[],d=x(c,3),e=d[1],f=d[2];if(e){for(var g=e.toLowerCase().split("::").reverse(),h=x(g,2),i=h[0],j=h[1],k=j?j.split(":").map(m):[],l=i.split(":").map(m),o=b.IPV4ADDRESS.test(l[l.length-1]),p=o?7:8,q=l.length-p,r=Array(p),s=0;s<p;++s)r[s]=k[s]||l[q+s]||"";o&&(r[p-1]=n(r[p-1],b));var t=r.reduce(function(a,b,c){if(!b||"0"===b){var d=a[a.length-1];d&&d.index+d.length===c?d.length++:a.push({index:c,length:1})}return a},[]).sort(function(a,b){return b.length-a.length})[0],u=void 0;if(t&&1<t.length){var v=r.slice(0,t.index),w=r.slice(t.index+t.length);u=v.join(":")+"::"+w.join(":")}else u=r.join(":");return f&&(u+="%"+f),u}return a}function p(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c={},d=!1!==b.iri?w:v;"suffix"===b.reference&&(a=(b.scheme?b.scheme+":":"")+"//"+a);var e=a.match(L);if(e){M?(c.scheme=e[1],c.userinfo=e[3],c.host=e[4],c.port=parseInt(e[5],10),c.path=e[6]||"",c.query=e[7],c.fragment=e[8],isNaN(c.port)&&(c.port=e[5])):(c.scheme=e[1]||void 0,c.userinfo=-1!==a.indexOf("@")?e[3]:void 0,c.host=-1!==a.indexOf("//")?e[4]:void 0,c.port=parseInt(e[5],10),c.path=e[6]||"",c.query=-1!==a.indexOf("?")?e[7]:void 0,c.fragment=-1!==a.indexOf("#")?e[8]:void 0,isNaN(c.port)&&(c.port=a.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?e[4]:void 0)),c.host&&(c.host=o(n(c.host,d),d)),c.reference=void 0!==c.scheme||void 0!==c.userinfo||void 0!==c.host||void 0!==c.port||c.path||void 0!==c.query?void 0===c.scheme?"relative":void 0===c.fragment?"absolute":"uri":"same-document",b.reference&&"suffix"!==b.reference&&b.reference!==c.reference&&(c.error=c.error||"URI is not a "+b.reference+" reference.");var f=K[(b.scheme||c.scheme||"").toLowerCase()];if(b.unicodeSupport||f&&f.unicodeSupport)l(c,d);else{if(c.host&&(b.domainHost||f&&f.domainHost))try{c.host=J.toASCII(c.host.replace(d.PCT_ENCODED,k).toLowerCase())}catch(a){c.error=c.error||"Host's domain name can not be converted to ASCII via punycode: "+a}l(c,v)}f&&f.parse&&f.parse(c,b)}else c.error=c.error||"URI can not be parsed.";return c}function q(a){for(var b=[];a.length;)if(a.match(N))a=a.replace(N,"");else if(a.match(O))a=a.replace(O,"/");else if(a.match(P))a=a.replace(P,"/"),b.pop();else if("."===a||".."===a)a="";else{var c=a.match(Q);if(!c)throw new Error("Unexpected dot segment condition");var d=c[0];a=a.slice(d.length),b.push(d)}return b.join("")}function r(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=b.iri?w:v,d=[],e=K[(b.scheme||a.scheme||"").toLowerCase()];if(e&&e.serialize&&e.serialize(a,b),a.host)if(c.IPV6ADDRESS.test(a.host));else if(b.domainHost||e&&e.domainHost)try{a.host=b.iri?J.toUnicode(a.host):J.toASCII(a.host.replace(c.PCT_ENCODED,k).toLowerCase())}catch(c){a.error=a.error||"Host's domain name can not be converted to "+(b.iri?"Unicode":"ASCII")+" via punycode: "+c}l(a,c),"suffix"!==b.reference&&a.scheme&&(d.push(a.scheme),d.push(":"));var f,g,h,i=(g=!1!==b.iri?w:v,h=[],void 0!==(f=a).userinfo&&(h.push(f.userinfo),h.push("@")),void 0!==f.host&&h.push(o(n(String(f.host),g),g).replace(g.IPV6ADDRESS,function(a,b,c){return"["+b+(c?"%25"+c:"")+"]"})),"number"==typeof f.port&&(h.push(":"),h.push(f.port.toString(10))),h.length?h.join(""):void 0);if(void 0!==i&&("suffix"!==b.reference&&d.push("//"),d.push(i),a.path&&"/"!==a.path.charAt(0)&&d.push("/")),void 0!==a.path){var j=a.path;b.absolutePath||e&&e.absolutePath||(j=q(j)),void 0===i&&(j=j.replace(/^\/\//,"/%2F")),d.push(j)}return void 0!==a.query&&(d.push("?"),d.push(a.query)),void 0!==a.fragment&&(d.push("#"),d.push(a.fragment)),d.join("")}function s(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d={};return arguments[3]||(a=p(r(a,c),c),b=p(r(b,c),c)),!(c=c||{}).tolerant&&b.scheme?(d.scheme=b.scheme,d.userinfo=b.userinfo,d.host=b.host,d.port=b.port,d.path=q(b.path||""),d.query=b.query):(void 0!==b.userinfo||void 0!==b.host||void 0!==b.port?(d.userinfo=b.userinfo,d.host=b.host,d.port=b.port,d.path=q(b.path||""),d.query=b.query):(b.path?("/"===b.path.charAt(0)?d.path=q(b.path):(d.path=void 0===a.userinfo&&void 0===a.host&&void 0===a.port||a.path?a.path?a.path.slice(0,a.path.lastIndexOf("/")+1)+b.path:b.path:"/"+b.path,d.path=q(d.path)),d.query=b.query):(d.path=a.path,d.query=void 0!==b.query?b.query:a.query),d.userinfo=a.userinfo,d.host=a.host,d.port=a.port),d.scheme=a.scheme),d.fragment=b.fragment,d}function t(a,b){return a&&a.toString().replace(b&&b.iri?w.PCT_ENCODED:v.PCT_ENCODED,k)}function u(a){var b=k(a);return b.match(Y)?b:a}var v=f(!1),w=f(!0),x=function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(a){e=!0,f=a}finally{try{!d&&h.return&&h.return()}finally{if(e)throw f}}return c}(a,b);throw new TypeError("Invalid attempt to destructure non-iterable instance")},y=2147483647,z=/^xn--/,A=/[^\0-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=Math.floor,E=String.fromCharCode,F=function(a,b){return a+22+75*(a<26)-((0!=b)<<5)},G=function(a,b,c){var d=0;for(a=c?D(a/700):a>>1,a+=D(a/b);455<a;d+=36)a=D(a/35);return D(d+36*a/(a+38))},H=function(a){var b,c=[],d=a.length,e=0,f=128,h=72,i=a.lastIndexOf("-");i<0&&(i=0);for(var j=0;j<i;++j)128<=a.charCodeAt(j)&&g("not-basic"),c.push(a.charCodeAt(j));for(var k=0<i?i+1:0;k<d;){for(var l=e,m=1,n=36;;n+=36){d<=k&&g("invalid-input");var o=(b=a.charCodeAt(k++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:36;(36<=o||o>D((y-e)/m))&&g("overflow"),e+=o*m;var p=n<=h?1:h+26<=n?26:n-h;if(o<p)break;var q=36-p;m>D(y/q)&&g("overflow"),m*=q}var r=c.length+1;h=G(e-l,r,0==l),D(e/r)>y-f&&g("overflow"),f+=D(e/r),e%=r,c.splice(e++,0,f)}return String.fromCodePoint.apply(String,c)},I=function(a){var b=[],c=(a=i(a)).length,d=128,e=0,f=72,h=!0,j=!1,k=void 0;try{for(var l,m=a[Symbol.iterator]();!(h=(l=m.next()).done);h=!0){var n=l.value;n<128&&b.push(E(n))}}catch(a){j=!0,k=a}finally{try{!h&&m.return&&m.return()}finally{if(j)throw k}}var o=b.length,p=o;for(o&&b.push("-");p<c;){var q=y,r=!0,s=!1,t=void 0;try{for(var u,v=a[Symbol.iterator]();!(r=(u=v.next()).done);r=!0){var w=u.value;d<=w&&w<q&&(q=w)}}catch(a){s=!0,t=a}finally{try{!r&&v.return&&v.return()}finally{if(s)throw t}}var x=p+1;q-d>D((y-e)/x)&&g("overflow"),e+=(q-d)*x,d=q;var z=!0,A=!1,B=void 0;try{for(var C,H=a[Symbol.iterator]();!(z=(C=H.next()).done);z=!0){var I=C.value;if(I<d&&++e>y&&g("overflow"),I==d){for(var J=e,K=36;;K+=36){var L=K<=f?1:f+26<=K?26:K-f;if(J<L)break;var M=J-L,N=36-L;b.push(E(F(L+M%N,0))),J=D(M/N)}b.push(E(F(J,0))),f=G(e,x,p==o),e=0,++p}}}catch(a){A=!0,B=a}finally{try{!z&&H.return&&H.return()}finally{if(A)throw B}}++e,++d}return b.join("")},J={version:"2.1.0",ucs2:{decode:i,encode:function(a){return String.fromCodePoint.apply(String,function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(a))}},decode:H,encode:I,toASCII:function(a){return h(a,function(a){return A.test(a)?"xn--"+I(a):a})},toUnicode:function(a){return h(a,function(a){return z.test(a)?H(a.slice(4).toLowerCase()):a})}},K={},L=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,M=void 0==="".match(/(){0}/)[1],N=/^\.\.?\//,O=/^\/\.(\/|$)/,P=/^\/\.\.(\/|$)/,Q=/^\/?(?:.|\n)*?(?=\/|$)/,R={scheme:"http",domainHost:!0,parse:function(a,b){return a.host||(a.error=a.error||"HTTP URIs must have a host."),a},serialize:function(a,b){return a.port!==("https"!==String(a.scheme).toLowerCase()?80:443)&&""!==a.port||(a.port=void 0),a.path||(a.path="/"),a}},S={scheme:"https",domainHost:R.domainHost,parse:R.parse,serialize:R.serialize},T={},U="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",V="[0-9A-Fa-f]",W=c(c("%[EFef]"+V+"%"+V+V+"%"+V+V)+"|"+c("%[89A-Fa-f]"+V+"%"+V+V)+"|"+c("%"+V+V)),X=b("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Y=new RegExp(U,"g"),Z=new RegExp(W,"g"),$=new RegExp(b("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',X),"g"),_=new RegExp(b("[^]",U,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),aa=_,ba={scheme:"mailto",parse:function(a,b){var c=a,d=c.to=c.path?c.path.split(","):[];if(c.path=void 0,c.query){for(var e=!1,f={},g=c.query.split("&"),h=0,i=g.length;h<i;++h){var j=g[h].split("=");switch(j[0]){case"to":for(var k=j[1].split(","),l=0,m=k.length;l<m;++l)d.push(k[l]);break;case"subject":c.subject=t(j[1],b);break;case"body":c.body=t(j[1],b);break;default:e=!0,f[t(j[0],b)]=t(j[1],b)}}e&&(c.headers=f)}c.query=void 0;for(var n=0,o=d.length;n<o;++n){var p=d[n].split("@");if(p[0]=t(p[0]),b.unicodeSupport)p[1]=t(p[1],b).toLowerCase();else try{p[1]=J.toASCII(t(p[1],b).toLowerCase())}catch(a){c.error=c.error||"Email address's domain name can not be converted to ASCII via punycode: "+a}d[n]=p.join("@")}return c},serialize:function(a,b){var c,d=a,f=null!=(c=a.to)?c instanceof Array?c:"number"!=typeof c.length||c.split||c.setInterval||c.call?[c]:Array.prototype.slice.call(c):[];if(f){for(var g=0,h=f.length;g<h;++g){var i=String(f[g]),k=i.lastIndexOf("@"),l=i.slice(0,k).replace(Z,u).replace(Z,e).replace($,j),m=i.slice(k+1);try{m=b.iri?J.toUnicode(m):J.toASCII(t(m,b).toLowerCase())}catch(a){d.error=d.error||"Email address's domain name can not be converted to "+(b.iri?"Unicode":"ASCII")+" via punycode: "+a}f[g]=l+"@"+m}d.path=f.join(",")}var n=a.headers=a.headers||{};a.subject&&(n.subject=a.subject),a.body&&(n.body=a.body);var o=[];for(var p in n)n[p]!==T[p]&&o.push(p.replace(Z,u).replace(Z,e).replace(_,j)+"="+n[p].replace(Z,u).replace(Z,e).replace(aa,j));return o.length&&(d.query=o.join("&")),d}},ca=/^([^\:]+)\:(.*)/,da={scheme:"urn",parse:function(a,b){var c=a.path&&a.path.match(ca),d=a;if(c){var e=b.scheme||d.scheme||"urn",f=c[1].toLowerCase(),g=c[2],h=K[e+":"+(b.nid||f)];d.nid=f,d.nss=g,d.path=void 0,h&&(d=h.parse(d,b))}else d.error=d.error||"URN can not be parsed.";return d},serialize:function(a,b){var c=a.nid,d=K[(b.scheme||a.scheme||"urn")+":"+(b.nid||c)];d&&(a=d.serialize(a,b));var e=a;return e.path=(c||b.nid)+":"+a.nss,e}},ea=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,fa={scheme:"urn:uuid",parse:function(a,b){var c=a;return c.uuid=c.nss,c.nss=void 0,b.tolerant||c.uuid&&c.uuid.match(ea)||(c.error=c.error||"UUID is not valid."),c},serialize:function(a,b){var c=a;return c.nss=(a.uuid||"").toLowerCase(),c}};K[R.scheme]=R,K[S.scheme]=S,K[ba.scheme]=ba,K[da.scheme]=da,K[fa.scheme]=fa,a.SCHEMES=K,a.pctEncChar=j,a.pctDecChars=k,a.parse=p,a.removeDotSegments=q,a.serialize=r,a.resolveComponents=s,a.resolve=function(a,b,c){var d=function(a,b){var c=a;if(b)for(var d in b)c[d]=b[d];return c}({scheme:"null"},c);return r(s(p(a,d),p(b,d),d,!0),d)},a.normalize=function(a,b){return"string"==typeof a?a=r(p(a,b),b):"object"===d(a)&&(a=p(r(a,b),b)),a},a.equal=function(a,b,c){return"string"==typeof a?a=r(p(a,c),c):"object"===d(a)&&(a=r(a,c)),"string"==typeof b?b=r(p(b,c),c):"object"===d(b)&&(b=r(b,c)),a===b},a.escapeComponent=function(a,b){return a&&a.toString().replace(b&&b.iri?w.ESCAPE:v.ESCAPE,j)},a.unescapeComponent=t,Object.defineProperty(a,"__esModule",{value:!0})}("object"==typeof c&&void 0!==b?c:d.URI=d.URI||{})},{}],ajv:[function(a,b,c){"use strict";function d(b){if(!(this instanceof d))return new d(b);b=this._opts=t.copy(b)||{},function(a){var b=a._opts.logger;if(!1===b)a.logger={log:k,warn:k,error:k};else{if(void 0===b&&(b=console),!("object"==typeof b&&b.log&&b.warn&&b.error))throw new Error("logger must implement log, warn and error methods");a.logger=b}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=q(b.format);var c=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(a){return c.test(a)},this._cache=b.cache||new n,this._loadingSchemas={},this._compilations=[],this.RULES=r(),this._getId=function(a){switch(a.schemaId){case"auto":return i;case"id":return g;default:return h}}(b),b.loopRequired=b.loopRequired||1/0,"property"==b.errorDataPath&&(b._errorDataPathProperty=!0),void 0===b.serialize&&(b.serialize=p),this._metaOpts=function(a){for(var b=t.copy(a._opts),c=0;c<x.length;c++)delete b[x[c]];return b}(this),b.formats&&function(a){for(var b in a._opts.formats){var c=a._opts.formats[b];a.addFormat(b,c)}}(this),function(b){var c;if(b._opts.$data&&(c=a("./refs/data.json"),b.addMetaSchema(c,c.$id,!0)),!1!==b._opts.meta){var d=a("./refs/json-schema-draft-07.json");b._opts.$data&&(d=s(d,y)),b.addMetaSchema(d,w,!0),b._refs["http://json-schema.org/schema"]=w}}(this),"object"==typeof b.meta&&this.addMetaSchema(b.meta),function(a){var b=a._opts.schemas;if(b)if(Array.isArray(b))a.addSchema(b);else for(var c in b)a.addSchema(b[c],c)}(this)}function e(a,b){return b=m.normalizeId(b),a._schemas[b]||a._refs[b]||a._fragments[b]}function f(a,b,c){for(var d in b){var e=b[d];e.meta||c&&!c.test(d)||(a._cache.del(e.cacheKey),delete b[d])}}function g(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function h(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function i(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function j(a,b){if(a._schemas[b]||a._refs[b])throw new Error('schema with key or id "'+b+'" already exists')}function k(){}var l=a("./compile"),m=a("./compile/resolve"),n=a("./cache"),o=a("./compile/schema_obj"),p=a("fast-json-stable-stringify"),q=a("./compile/formats"),r=a("./compile/rules"),s=a("./data"),t=a("./compile/util");(b.exports=d).prototype.validate=function(a,b){var c;if("string"==typeof a){if(!(c=this.getSchema(a)))throw new Error('no schema with key or ref "'+a+'"')}else{var d=this._addSchema(a);c=d.validate||this._compile(d)}var e=c(b);return!0!==c.$async&&(this.errors=c.errors),e},d.prototype.compile=function(a,b){var c=this._addSchema(a,void 0,b);return c.validate||this._compile(c)},d.prototype.addSchema=function(a,b,c,d){if(Array.isArray(a)){for(var e=0;e<a.length;e++)this.addSchema(a[e],void 0,c,d);return this}var f=this._getId(a);if(void 0!==f&&"string"!=typeof f)throw new Error("schema id must be string");return j(this,b=m.normalizeId(b||f)),this._schemas[b]=this._addSchema(a,c,d,!0),this},d.prototype.addMetaSchema=function(a,b,c){return this.addSchema(a,b,c,!0),this},d.prototype.validateSchema=function(a,b){var c=a.$schema;if(void 0!==c&&"string"!=typeof c)throw new Error("$schema must be a string");if(!(c=c||this._opts.defaultMeta||(d=this,e=d._opts.meta,d._opts.defaultMeta="object"==typeof e?d._getId(e)||e:d.getSchema(w)?w:void 0,d._opts.defaultMeta)))return this.logger.warn("meta-schema not available"),!(this.errors=null);var d,e,f,g=this._formats.uri;this._formats.uri="function"==typeof g?this._schemaUriFormatFunc:this._schemaUriFormat;try{f=this.validate(c,a)}finally{this._formats.uri=g}if(!f&&b){var h="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(h);this.logger.error(h)}return f},d.prototype.getSchema=function(a){var b=e(this,a);switch(typeof b){case"object":return b.validate||this._compile(b);case"string":return this.getSchema(b);case"undefined":return function(a,b){var c=m.schema.call(a,{schema:{}},b);if(c){var d=c.schema,e=c.root,f=c.baseId,g=l.call(a,d,e,void 0,f);return a._fragments[b]=new o({ref:b,fragment:!0,schema:d,root:e,baseId:f,validate:g}),g}}(this,a)}},d.prototype.removeSchema=function(a){if(a instanceof RegExp)return f(this,this._schemas,a),f(this,this._refs,a),this;switch(typeof a){case"undefined":return f(this,this._schemas),f(this,this._refs),this._cache.clear(),this;case"string":var b=e(this,a);return b&&this._cache.del(b.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var c=this._opts.serialize,d=c?c(a):a;this._cache.del(d);var g=this._getId(a);g&&(g=m.normalizeId(g),delete this._schemas[g],delete this._refs[g])}return this},d.prototype.addFormat=function(a,b){return"string"==typeof b&&(b=new RegExp(b)),this._formats[a]=b,this},d.prototype.errorsText=function(a,b){if(!(a=a||this.errors))return"No errors";for(var c=void 0===(b=b||{}).separator?", ":b.separator,d=void 0===b.dataVar?"data":b.dataVar,e="",f=0;f<a.length;f++){var g=a[f];g&&(e+=d+g.dataPath+" "+g.message+c)}return e.slice(0,-c.length)},d.prototype._addSchema=function(a,b,c,d){if("object"!=typeof a&&"boolean"!=typeof a)throw new Error("schema should be object or boolean");var e=this._opts.serialize,f=e?e(a):a,g=this._cache.get(f);if(g)return g;d=d||!1!==this._opts.addUsedSchema;var h=m.normalizeId(this._getId(a));h&&d&&j(this,h);var i,k=!1!==this._opts.validateSchema&&!b;k&&!(i=h&&h==m.normalizeId(a.$schema))&&this.validateSchema(a,!0);var l=m.ids.call(this,a),n=new o({id:h,schema:a,localRefs:l,cacheKey:f,meta:c});return"#"!=h[0]&&d&&(this._refs[h]=n),this._cache.put(f,n),k&&i&&this.validateSchema(a,!0),n},d.prototype._compile=function(a,b){function c(){var b=a.validate,d=b.apply(this,arguments);return c.errors=b.errors,d}if(a.compiling)return(a.validate=c).schema=a.schema,c.errors=null,c.root=b||c,!0===a.schema.$async&&(c.$async=!0),c;var d,e;a.compiling=!0,a.meta&&(d=this._opts,this._opts=this._metaOpts);try{e=l.call(this,a.schema,b,a.localRefs)}finally{a.compiling=!1,a.meta&&(this._opts=d)}return a.validate=e,a.refs=e.refs,a.refVal=e.refVal,a.root=e.root,e},d.prototype.compileAsync=a("./compile/async");var u=a("./keyword");d.prototype.addKeyword=u.add,d.prototype.getKeyword=u.get,d.prototype.removeKeyword=u.remove;var v=a("./compile/error_classes");d.ValidationError=v.Validation,d.MissingRefError=v.MissingRef,d.$dataMetaSchema=s;var w="http://json-schema.org/draft-07/schema",x=["removeAdditional","useDefaults","coerceTypes"],y=["/properties"]},{"./cache":1,"./compile":5,"./compile/async":2,"./compile/error_classes":3,"./compile/formats":4,"./compile/resolve":6,"./compile/rules":7,"./compile/schema_obj":8,"./compile/util":10,"./data":11,"./keyword":38,"./refs/data.json":39,"./refs/json-schema-draft-07.json":40,"fast-json-stable-stringify":42}]},{},[])("ajv")});var telemetrySchema=[{$id:"http://api.ekstep.org/telemetry/actor",type:"object",properties:{id:{$id:"http://api.ekstep.org/telemetry/actor/id",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/actor/type",type:"string"}},required:["type","id"]},{$id:"http://api.ekstep.org/telemetry/assess",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["ASSESS"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["item","pass","score","resvalues","duration"],properties:{item:{$ref:"http://api.ekstep.org/telemetry/question"},index:{$id:"http://api.ekstep.org/telemetry/edata/index",type:"number"},pass:{$id:"http://api.ekstep.org/telemetry/edata/pass",type:"string"},score:{$id:"http://api.ekstep.org/telemetry/edata/score",type:"number"},resvalues:{$id:"http://api.ekstep.org/telemetry/edata/resvalues",type:"array",items:{type:"object"}},duration:{$id:"http://api.ekstep.org/telemetry/edata/duration",type:"number"}}}}}]},{$id:"http://api.ekstep.org/telemetry/audit",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["AUDIT"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,properties:{props:{$id:"http://api.ekstep.org/telemetry/edata/props",type:"array",items:{type:"string"}},state:{$id:"http://api.ekstep.org/telemetry/edata/state",type:"string"},prevstate:{$id:"http://api.ekstep.org/telemetry/edata/prevstate",type:"string"}}}}}]},{$id:"http://api.ekstep.org/telemetry/cdata",type:"array",items:{type:"object",properties:{type:{$id:"http://api.ekstep.org/telemetry/cdata/type",type:"string"},id:{$id:"http://api.ekstep.org/telemetry/cdata/id",type:"string"}},additionalProperties:!1,required:["type","id"]}},{$id:"http://api.ekstep.org/telemetry/common",type:"object",properties:{ets:{$id:"http://api.ekstep.org/telemetry/ets",type:"number",format:"date-time"},ver:{$id:"http://api.ekstep.org/telemetry/ver",type:"string",enum:["3.0"]},mid:{$id:"http://api.ekstep.org/telemetry/mid",type:"string",minLength:1},actor:{$ref:"http://api.ekstep.org/telemetry/actor"},context:{$ref:"http://api.ekstep.org/telemetry/context"},object:{$ref:"http://api.ekstep.org/telemetry/object"},tags:{type:"array",items:{type:"string"}}}},{$id:"http://api.ekstep.org/telemetry/context",type:"object",properties:{channel:{$id:"http://api.ekstep.org/telemetry/context/channel",type:"string",minLength:1},pdata:{$ref:"http://api.ekstep.org/telemetry/pdata"},env:{$id:"http://api.ekstep.org/telemetry/context/env",type:"string"},sid:{$id:"http://api.ekstep.org/telemetry/context/sid",type:"string"},did:{$id:"http://api.ekstep.org/telemetry/context/did",type:"string"},cdata:{$ref:"http://api.ekstep.org/telemetry/cdata"}},required:["channel","env","pdata"]},{$id:"http://api.ekstep.org/telemetry/dspec",type:"object",properties:{os:{$id:"http://api.ekstep.org/telemetry/dspec/os",type:"string"},make:{$id:"http://api.ekstep.org/telemetry/dspec/make",type:"string"},id:{$id:"http://api.ekstep.org/telemetry/dspec/id",type:"string"},mem:{$id:"http://api.ekstep.org/telemetry/dspec/mem",type:"number",minimum:-1},idisk:{$id:"http://api.ekstep.org/telemetry/dspec/idisk",type:"number",minimum:-1},edisk:{$id:"http://api.ekstep.org/telemetry/dspec/edisk",type:"number",minimum:-1},scrn:{$id:"http://api.ekstep.org/telemetry/dspec/scrn",type:"number",minimum:-1},camera:{$id:"http://api.ekstep.org/telemetry/dspec/camera",type:"string"},cpu:{$id:"http://api.ekstep.org/telemetry/dspec/cpu",type:"string"},sims:{$id:"http://api.ekstep.org/telemetry/dspec/sims",type:"number",minimum:-1},cap:{$id:"http://api.ekstep.org/telemetry/dspec/cap",type:"array",items:{type:"string"}}}},{$id:"http://api.ekstep.org/telemetry/end",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["END"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["type"],properties:{type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},mode:{$id:"http://api.ekstep.org/telemetry/edata/mode",type:"string"},duration:{$id:"http://api.ekstep.org/telemetry/edata/duration",type:"number"},pageid:{$id:"http://api.ekstep.org/telemetry/edata/pageid",type:"string"},summary:{$id:"http://api.ekstep.org/telemetry/edata/summary",type:"array",items:{type:"object"}}}}}}]},{$id:"http://api.ekstep.org/telemetry/error",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["ERROR"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["err","errtype","stacktrace"],properties:{err:{$id:"http://api.ekstep.org/telemetry/edata/err",type:"string"},errtype:{$id:"http://api.ekstep.org/telemetry/edata/errtype",type:"string"},stacktrace:{$id:"http://api.ekstep.org/telemetry/edata/stacktrace",type:"string"},pageid:{$id:"http://api.ekstep.org/telemetry/edata/pageid",type:"string"},object:{$ref:"http://api.ekstep.org/telemetry/inlineobject"},plugin:{$ref:"http://api.ekstep.org/telemetry/plugin"}}}}}]},{$id:"http://api.ekstep.org/telemetry/exdata",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["EXDATA"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,properties:{type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},data:{$id:"http://api.ekstep.org/telemetry/edata/data",type:"string"}}}}}]},{$id:"http://api.ekstep.org/telemetry/feedback",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["FEEDBACK"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,properties:{rating:{$id:"http://api.ekstep.org/telemetry/edata/rating",type:"number"},comments:{$id:"http://api.ekstep.org/telemetry/edata/comments",type:"string"}}}}}]},{$id:"http://api.ekstep.org/telemetry/heartbeat",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["HEARTBEAT"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object"}}}]},{$id:"http://api.ekstep.org/telemetry/impression",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["IMPRESSION"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["type","pageid","uri"],properties:{type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},subtype:{$id:"http://api.ekstep.org/telemetry/edata/subtype",type:"string"},pageid:{$id:"http://api.ekstep.org/telemetry/edata/pageid",type:"string"},uri:{$id:"http://api.ekstep.org/telemetry/edata/uri",type:"string"},visits:{$id:"http://api.ekstep.org/telemetry/edata/visits",type:"array",items:{type:"object",properties:{objid:{$id:"http://api.ekstep.org/telemetry/edata/visits/objid",type:"string"},objtype:{$id:"http://api.ekstep.org/telemetry/edata/visits/objtype",type:"string"},objver:{$id:"http://api.ekstep.org/telemetry/edata/visits/objver",type:"string"},section:{$id:"http://api.ekstep.org/telemetry/edata/visits/section",type:"string"},index:{$id:"http://api.ekstep.org/telemetry/edata/visits/index",type:"number"}},additionalProperties:!1,required:["objid","objtype"]}}}}}}]},{$id:"http://api.ekstep.org/telemetry/inlineobject",type:"object",additionalProperties:!1,required:["id","type","ver"],properties:{id:{$id:"http://api.ekstep.org/telemetry/inlineobject/id",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/inlineobject/type",type:"string"},ver:{$id:"http://api.ekstep.org/telemetry/inlineobject/ver",type:"string"},subtype:{$id:"http://api.ekstep.org/telemetry/inlineobject/subtype",type:"string"},name:{$id:"http://api.ekstep.org/telemetry/inlineobject/name",type:"string"},code:{$id:"http://api.ekstep.org/telemetry/inlineobject/code",type:"string"},parent:{$ref:"http://api.ekstep.org/telemetry/parent"}}},{
$id:"http://api.ekstep.org/telemetry/interact",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["INTERACT"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["type","id"],properties:{type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},subtype:{$id:"http://api.ekstep.org/telemetry/edata/subtype",type:"string"},id:{$id:"http://api.ekstep.org/telemetry/edata/id",type:"string"},pageid:{$id:"http://api.ekstep.org/telemetry/edata/pageid",type:"string"},target:{$ref:"http://api.ekstep.org/telemetry/target"},plugin:{$ref:"http://api.ekstep.org/telemetry/plugin"},extra:{$id:"http://api.ekstep.org/telemetry/edata/extra",type:"object"}}}}}]},{$id:"http://api.ekstep.org/telemetry/interrupt",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["INTERRUPT"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["type"],properties:{type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},pageid:{$id:"http://api.ekstep.org/telemetry/edata/pageid",type:"string"}}}}}]},{$id:"http://api.ekstep.org/telemetry/items",type:"array",items:{type:"object",additionalProperties:!1,properties:{id:{$id:"http://api.ekstep.org/telemetry/items/id",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/items/type",type:"string"},ver:{$id:"http://api.ekstep.org/telemetry/items/ver",type:"string"},params:{$id:"http://api.ekstep.org/telemetry/items/params",type:"array",items:{type:"object"}},origin:{$id:"http://api.ekstep.org/telemetry/items/origin",type:"object",properties:{id:{$id:"http://api.ekstep.org/telemetry/items/origin/id",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/items/origin/type",type:"string"}}},to:{$id:"http://api.ekstep.org/telemetry/items/to",type:"object",properties:{id:{$id:"http://api.ekstep.org/telemetry/items/to/id",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/items/to/type",type:"string"}}}}}},{$id:"http://api.ekstep.org/telemetry/log",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["LOG"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["type","level","message"],properties:{type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},level:{$id:"http://api.ekstep.org/telemetry/edata/level",type:"string"},message:{$id:"http://api.ekstep.org/telemetry/edata/message",type:"string"},pageid:{$id:"http://api.ekstep.org/telemetry/edata/pageid",type:"string"},params:{$id:"http://api.ekstep.org/telemetry/edata/params",type:"array",items:{type:"object"}}}}}}]},{$id:"http://api.ekstep.org/telemetry/object",type:"object",properties:{id:{$id:"http://api.ekstep.org/telemetry/object/id",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/object/type",type:"string"},ver:{$id:"http://api.ekstep.org/telemetry/object/ver",type:"string"},rollup:{$ref:"http://api.ekstep.org/telemetry/rollup"}}},{$id:"http://api.ekstep.org/telemetry/parent",type:"object",properties:{id:{$id:"http://api.ekstep.org/telemetry/parent/id",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/parent/type",type:"string"}}},{$id:"http://api.ekstep.org/telemetry/pdata",type:"object",properties:{id:{$id:"http://api.ekstep.org/telemetry/pdata/id",type:"string"},pid:{$id:"http://api.ekstep.org/telemetry/pdata/pid",type:"string"},ver:{$id:"http://api.ekstep.org/telemetry/pdata/ver",type:"string"}},required:["id"]},{$id:"http://api.ekstep.org/telemetry/plugin",type:"object",additionalProperties:!1,required:["id","ver"],properties:{id:{$id:"http://api.ekstep.org/telemetry/plugin/id",type:"string"},ver:{$id:"http://api.ekstep.org/telemetry/plugin/ver",type:"string"},category:{$id:"http://api.ekstep.org/telemetry/plugin/category",type:"string"}}},{$id:"http://api.ekstep.org/telemetry/question",type:"object",additionalProperties:!1,required:["id"],properties:{id:{$id:"http://api.ekstep.org/telemetry/question/id",type:"string"},maxscore:{$id:"http://api.ekstep.org/telemetry/question/maxscore",type:"number"},exlength:{$id:"http://api.ekstep.org/telemetry/question/exlength",type:"number"},params:{$id:"http://api.ekstep.org/telemetry/question/params",type:"array",items:{type:"object"}},uri:{$id:"http://api.ekstep.org/telemetry/question/uri",type:"string"},desc:{$id:"http://api.ekstep.org/telemetry/question/desc",type:"string"},title:{$id:"http://api.ekstep.org/telemetry/question/title",type:"string"},mmc:{$id:"http://api.ekstep.org/telemetry/question/mmc",type:"array",items:{type:"string"}},mc:{$id:"http://api.ekstep.org/telemetry/question/mc",type:"array",items:{type:"string"}}}},{$id:"http://api.ekstep.org/telemetry/response",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["RESPONSE"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["target","type","values"],properties:{type:{$id:"http://api.ekstep.org/telemetry/type",type:"string"},target:{$ref:"http://api.ekstep.org/telemetry/target"},values:{type:"array",items:{type:"object"}}}}}}]},{$id:"http://api.ekstep.org/telemetry/rollup",type:"object",properties:{l1:{$id:"http://api.ekstep.org/telemetry/context/rollup/l1",type:"string"},l2:{$id:"http://api.ekstep.org/telemetry/context/rollup/l2",type:"string"},l3:{$id:"http://api.ekstep.org/telemetry/context/rollup/l3",type:"string"},l4:{$id:"http://api.ekstep.org/telemetry/context/rollup/l4",type:"string"}}},{$id:"http://api.ekstep.org/telemetry/search",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["SEARCH"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["query","size","topn"],properties:{type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},query:{$id:"http://api.ekstep.org/telemetry/edata/query",type:"string"},filters:{$id:"http://api.ekstep.org/telemetry/edata/filters",type:"object"},sort:{$id:"http://api.ekstep.org/telemetry/edata/sort",type:"object"},correlationid:{$id:"http://api.ekstep.org/telemetry/edata/correlationid",type:"string"},size:{$id:"http://api.ekstep.org/telemetry/edata/size",type:"number"},topn:{$id:"http://api.ekstep.org/telemetry/edata/topn",type:"array",items:{type:"object"}}}}}}]},{$id:"http://api.ekstep.org/telemetry/share",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["SHARE"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["items"],properties:{dir:{$id:"http://api.ekstep.org/telemetry/edata/dir",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},items:{$ref:"http://api.ekstep.org/telemetry/items"}}}}}]},{$id:"http://api.ekstep.org/telemetry/start",type:"object",required:["eid","ets","ver","mid","actor","context","edata"],allOf:[{$ref:"http://api.ekstep.org/telemetry/common"},{properties:{eid:{$id:"http://api.ekstep.org/telemetry/eid",enum:["START"]},edata:{$id:"http://api.ekstep.org/telemetry/edata",type:"object",additionalProperties:!1,required:["type"],properties:{type:{$id:"http://api.ekstep.org/telemetry/edata/type",type:"string"},dspec:{$ref:"http://api.ekstep.org/telemetry/dspec"},uaspec:{$ref:"http://api.ekstep.org/telemetry/uaspec"},loc:{$id:"http://api.ekstep.org/telemetry/edata/loc",type:"string"},mode:{$id:"http://api.ekstep.org/telemetry/edata/mode",type:"string"},duration:{$id:"http://api.ekstep.org/telemetry/edata/duration",type:"number"},pageid:{$id:"http://api.ekstep.org/telemetry/edata/pageid",type:"string"}}}}}]},{$id:"http://api.ekstep.org/telemetry/target",type:"object",additionalProperties:!1,required:["id","ver","type"],properties:{id:{$id:"http://api.ekstep.org/telemetry/target/id",type:"string"},ver:{$id:"http://api.ekstep.org/telemetry/target/ver",type:"string"},type:{$id:"http://api.ekstep.org/telemetry/target/type",type:"string"},parent:{$ref:"http://api.ekstep.org/telemetry/parent"}}},{$id:"http://api.ekstep.org/telemetry/uaspec",type:"object",properties:{agent:{$id:"http://api.ekstep.org/telemetry/uaspec/agent",type:"string"},ver:{$id:"http://api.ekstep.org/telemetry/uaspec/ver",type:"string"},system:{$id:"http://api.ekstep.org/telemetry/uaspec/system",type:"string"},platform:{$id:"http://api.ekstep.org/telemetry/uaspec/platform",type:"string"},raw:{$id:"http://api.ekstep.org/telemetry/uaspec/raw",type:"string"}}}],detectClient=function(){var a,b,c=navigator.userAgent,d=navigator.appName,e=""+parseFloat(navigator.appVersion);return-1!=(a=c.indexOf("Opera"))?(d="opera",e=c.substring(a+6),-1!=(a=c.indexOf("Version"))&&(e=c.substring(a+8))):-1!=(a=c.indexOf("MSIE"))?(d="IE",e=c.substring(a+5)):-1!=(a=c.indexOf("Chrome"))?(d="chrome",e=c.substring(a+7)):-1!=(a=c.indexOf("Safari"))?(d="safari",e=c.substring(a+7),-1!=(a=c.indexOf("Version"))&&(e=c.substring(a+8))):-1!=(a=c.indexOf("Firefox"))&&(d="firefox",e=c.substring(a+8)),-1!=(b=e.indexOf(";"))&&(e=e.substring(0,b)),-1!=(b=e.indexOf(" "))&&(e=e.substring(0,b)),{browser:d,browserver:e,os:navigator.platform}},CryptoJS=CryptoJS||function(a,b){var c={},d=c.lib={},e=function(){},f=d.Base={extend:function(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.init.prototype.extend(this)}},g=d.WordArray=f.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||i).stringify(this)},concat:function(a){var b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(c[e>>>2]>>>24-e%4*8&255)<<24-(d+e)%4*8;else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-c%4*8,b.length=a.ceil(c/4)},clone:function(){var a=f.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;d<b;d+=4)c.push(4294967296*a.random()|0);return new g.init(c,b)}}),h=c.enc={},i=h.Hex={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++){var e=b[d>>>2]>>>24-d%4*8&255;c.push((e>>>4).toString(16)),c.push((15&e).toString(16))}return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-d%8*4;return new g.init(c,b/2)}},j=h.Latin1={stringify:function(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(b[d>>>2]>>>24-d%4*8&255));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-d%4*8;return new g.init(c,b)}},k=h.Utf8={stringify:function(a){try{return decodeURIComponent(escape(j.stringify(a)))}catch(l){throw Error("Malformed UTF-8 data")}},parse:function(a){return j.parse(unescape(encodeURIComponent(a)))}},l=d.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new g.init,this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=k.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var c=this._data,d=c.words,e=c.sigBytes,f=this.blockSize,h=e/(4*f),h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0);if(b=h*f,e=a.min(4*b,e),b){for(var i=0;i<b;i+=f)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return new g.init(i,e)},clone:function(){var a=f.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});d.Hasher=l.extend({cfg:f.extend(),init:function(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}});var m=c.algo={};return c}(Math);!function(a){function b(a,b,c,d,e,f,g){return((a=a+(b&c|~b&d)+e+g)<<f|a>>>32-f)+b}function c(a,b,c,d,e,f,g){return((a=a+(b&d|c&~d)+e+g)<<f|a>>>32-f)+b}function d(a,b,c,d,e,f,g){return((a=a+(b^c^d)+e+g)<<f|a>>>32-f)+b}function e(a,b,c,d,e,f,g){return((a=a+(c^(b|~d))+e+g)<<f|a>>>32-f)+b}for(var f=CryptoJS,g=f.lib,h=g.WordArray,i=g.Hasher,g=f.algo,j=[],k=0;64>k;k++)j[k]=4294967296*a.abs(a.sin(k+1))|0;g=g.MD5=i.extend({_doReset:function(){this._hash=new h.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,f){for(var g=0;16>g;g++){var h=f+g,i=a[h];a[h]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var g=this._hash.words,h=a[f+0],i=a[f+1],k=a[f+2],l=a[f+3],m=a[f+4],n=a[f+5],o=a[f+6],p=a[f+7],q=a[f+8],r=a[f+9],s=a[f+10],t=a[f+11],u=a[f+12],v=a[f+13],w=a[f+14],x=a[f+15],y=g[0],z=g[1],A=g[2],B=g[3],y=b(y,z,A,B,h,7,j[0]),B=b(B,y,z,A,i,12,j[1]),A=b(A,B,y,z,k,17,j[2]),z=b(z,A,B,y,l,22,j[3]),y=b(y,z,A,B,m,7,j[4]),B=b(B,y,z,A,n,12,j[5]),A=b(A,B,y,z,o,17,j[6]),z=b(z,A,B,y,p,22,j[7]),y=b(y,z,A,B,q,7,j[8]),B=b(B,y,z,A,r,12,j[9]),A=b(A,B,y,z,s,17,j[10]),z=b(z,A,B,y,t,22,j[11]),y=b(y,z,A,B,u,7,j[12]),B=b(B,y,z,A,v,12,j[13]),A=b(A,B,y,z,w,17,j[14]),z=b(z,A,B,y,x,22,j[15]),y=c(y,z,A,B,i,5,j[16]),B=c(B,y,z,A,o,9,j[17]),A=c(A,B,y,z,t,14,j[18]),z=c(z,A,B,y,h,20,j[19]),y=c(y,z,A,B,n,5,j[20]),B=c(B,y,z,A,s,9,j[21]),A=c(A,B,y,z,x,14,j[22]),z=c(z,A,B,y,m,20,j[23]),y=c(y,z,A,B,r,5,j[24]),B=c(B,y,z,A,w,9,j[25]),A=c(A,B,y,z,l,14,j[26]),z=c(z,A,B,y,q,20,j[27]),y=c(y,z,A,B,v,5,j[28]),B=c(B,y,z,A,k,9,j[29]),A=c(A,B,y,z,p,14,j[30]),z=c(z,A,B,y,u,20,j[31]),y=d(y,z,A,B,n,4,j[32]),B=d(B,y,z,A,q,11,j[33]),A=d(A,B,y,z,t,16,j[34]),z=d(z,A,B,y,w,23,j[35]),y=d(y,z,A,B,i,4,j[36]),B=d(B,y,z,A,m,11,j[37]),A=d(A,B,y,z,p,16,j[38]),z=d(z,A,B,y,s,23,j[39]),y=d(y,z,A,B,v,4,j[40]),B=d(B,y,z,A,h,11,j[41]),A=d(A,B,y,z,l,16,j[42]),z=d(z,A,B,y,o,23,j[43]),y=d(y,z,A,B,r,4,j[44]),B=d(B,y,z,A,u,11,j[45]),A=d(A,B,y,z,x,16,j[46]),z=d(z,A,B,y,k,23,j[47]),y=e(y,z,A,B,h,6,j[48]),B=e(B,y,z,A,p,10,j[49]),A=e(A,B,y,z,w,15,j[50]),z=e(z,A,B,y,n,21,j[51]),y=e(y,z,A,B,u,6,j[52]),B=e(B,y,z,A,l,10,j[53]),A=e(A,B,y,z,s,15,j[54]),z=e(z,A,B,y,i,21,j[55]),y=e(y,z,A,B,q,6,j[56]),B=e(B,y,z,A,x,10,j[57]),A=e(A,B,y,z,o,15,j[58]),z=e(z,A,B,y,v,21,j[59]),y=e(y,z,A,B,m,6,j[60]),B=e(B,y,z,A,t,10,j[61]),A=e(A,B,y,z,k,15,j[62]),z=e(z,A,B,y,r,21,j[63]);g[0]=g[0]+y|0,g[1]=g[1]+z|0,g[2]=g[2]+A|0,g[3]=g[3]+B|0},_doFinalize:function(){var b=this._data,c=b.words,d=8*this._nDataBytes,e=8*b.sigBytes;c[e>>>5]|=128<<24-e%32;var f=a.floor(d/4294967296);for(c[15+(e+64>>>9<<4)]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),c[14+(e+64>>>9<<4)]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),b.sigBytes=4*(c.length+1),this._process(),b=this._hash,c=b.words,d=0;4>d;d++)e=c[d],c[d]=16711935&(e<<8|e>>>24)|4278255360&(e<<24|e>>>8);return b},clone:function(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}}),f.MD5=i._createHelper(g),f.HmacMD5=i._createHmacHelper(g)}(Math),function(a,b,c){"use strict";"undefined"!=typeof window&&("function"==typeof window.define&&window.define.amd?window.define(c):"undefined"!=typeof module&&module.exports?module.exports=c():b.exports?b.exports=c():b[a]=c())}("Fingerprint2",this,function(){"use strict";var a=function(b){if(!(this instanceof a))return new a(b);var c={swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[]};this.options=this.extend(b,c),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return a.prototype={extend:function(a,b){if(null==a)return b;for(var c in a)null!=a[c]&&b[c]!==a[c]&&(b[c]=a[c]);return b},get:function(a){var b=this,c={data:[],addPreprocessedComponent:function(a){var d=a.value;"function"==typeof b.options.preprocessor&&(d=b.options.preprocessor(a.key,d)),c.data.push({key:a.key,value:d})}};c=this.userAgentKey(c),c=this.languageKey(c),c=this.colorDepthKey(c),c=this.deviceMemoryKey(c),c=this.pixelRatioKey(c),c=this.hardwareConcurrencyKey(c),c=this.screenResolutionKey(c),c=this.availableScreenResolutionKey(c),c=this.timezoneOffsetKey(c),c=this.sessionStorageKey(c),c=this.localStorageKey(c),c=this.indexedDbKey(c),c=this.addBehaviorKey(c),c=this.openDatabaseKey(c),c=this.cpuClassKey(c),c=this.platformKey(c),c=this.doNotTrackKey(c),c=this.pluginsKey(c),c=this.canvasKey(c),c=this.webglKey(c),c=this.webglVendorAndRendererKey(c),c=this.adBlockKey(c),c=this.hasLiedLanguagesKey(c),c=this.hasLiedResolutionKey(c),c=this.hasLiedOsKey(c),c=this.hasLiedBrowserKey(c),c=this.touchSupportKey(c),c=this.customEntropyFunction(c),this.fontsKey(c,function(c){var d=[];b.each(c.data,function(a){var b=a.value;b&&"function"==typeof b.join&&(b=b.join(";")),d.push(b)});var e=b.x64hash128(d.join("~~~"),31);return a(e,c.data)})},customEntropyFunction:function(a){return"function"==typeof this.options.customFunction&&a.addPreprocessedComponent({key:"custom",value:this.options.customFunction()}),a},userAgentKey:function(a){return this.options.excludeUserAgent||a.addPreprocessedComponent({key:"user_agent",value:this.getUserAgent()}),a},getUserAgent:function(){return navigator.userAgent},languageKey:function(a){return this.options.excludeLanguage||a.addPreprocessedComponent({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),a},colorDepthKey:function(a){return this.options.excludeColorDepth||a.addPreprocessedComponent({key:"color_depth",value:window.screen.colorDepth||-1}),a},deviceMemoryKey:function(a){return this.options.excludeDeviceMemory||a.addPreprocessedComponent({key:"device_memory",value:this.getDeviceMemory()}),a},getDeviceMemory:function(){return navigator.deviceMemory||-1},pixelRatioKey:function(a){return this.options.excludePixelRatio||a.addPreprocessedComponent({key:"pixel_ratio",value:this.getPixelRatio()}),a},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(a){return this.options.excludeScreenResolution?a:this.getScreenResolution(a)},getScreenResolution:function(a){var b;return b=this.options.detectScreenOrientation&&window.screen.height>window.screen.width?[window.screen.height,window.screen.width]:[window.screen.width,window.screen.height],a.addPreprocessedComponent({key:"resolution",value:b}),a},availableScreenResolutionKey:function(a){return this.options.excludeAvailableScreenResolution?a:this.getAvailableScreenResolution(a)},getAvailableScreenResolution:function(a){var b;return window.screen.availWidth&&window.screen.availHeight&&(b=this.options.detectScreenOrientation?window.screen.availHeight>window.screen.availWidth?[window.screen.availHeight,window.screen.availWidth]:[window.screen.availWidth,window.screen.availHeight]:[window.screen.availHeight,window.screen.availWidth]),void 0!==b&&a.addPreprocessedComponent({key:"available_resolution",value:b}),a},timezoneOffsetKey:function(a){return this.options.excludeTimezoneOffset||a.addPreprocessedComponent({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),a},sessionStorageKey:function(a){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&a.addPreprocessedComponent({key:"session_storage",value:1}),a},localStorageKey:function(a){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&a.addPreprocessedComponent({key:"local_storage",value:1}),a},indexedDbKey:function(a){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&a.addPreprocessedComponent({key:"indexed_db",value:1}),a},addBehaviorKey:function(a){return!this.options.excludeAddBehavior&&document.body&&document.body.addBehavior&&a.addPreprocessedComponent({key:"add_behavior",value:1}),a},openDatabaseKey:function(a){return!this.options.excludeOpenDatabase&&window.openDatabase&&a.addPreprocessedComponent({key:"open_database",value:1}),a},cpuClassKey:function(a){return this.options.excludeCpuClass||a.addPreprocessedComponent({key:"cpu_class",value:this.getNavigatorCpuClass()}),a},platformKey:function(a){return this.options.excludePlatform||a.addPreprocessedComponent({key:"navigator_platform",value:this.getNavigatorPlatform()}),a},doNotTrackKey:function(a){return this.options.excludeDoNotTrack||a.addPreprocessedComponent({key:"do_not_track",value:this.getDoNotTrack()}),a},canvasKey:function(a){return!this.options.excludeCanvas&&this.isCanvasSupported()&&a.addPreprocessedComponent({key:"canvas",value:this.getCanvasFp()}),a},webglKey:function(a){return!this.options.excludeWebGL&&this.isWebGlSupported()&&a.addPreprocessedComponent({key:"webgl",value:this.getWebglFp()}),a},webglVendorAndRendererKey:function(a){return!this.options.excludeWebGLVendorAndRenderer&&this.isWebGlSupported()&&a.addPreprocessedComponent({key:"webgl_vendor",value:this.getWebglVendorAndRenderer()}),a},adBlockKey:function(a){return this.options.excludeAdBlock||a.addPreprocessedComponent({key:"adblock",value:this.getAdBlock()}),a},hasLiedLanguagesKey:function(a){return this.options.excludeHasLiedLanguages||a.addPreprocessedComponent({key:"has_lied_languages",value:this.getHasLiedLanguages()}),a},hasLiedResolutionKey:function(a){return this.options.excludeHasLiedResolution||a.addPreprocessedComponent({key:"has_lied_resolution",value:this.getHasLiedResolution()}),a},hasLiedOsKey:function(a){return this.options.excludeHasLiedOs||a.addPreprocessedComponent({key:"has_lied_os",value:this.getHasLiedOs()}),a},hasLiedBrowserKey:function(a){return this.options.excludeHasLiedBrowser||a.addPreprocessedComponent({key:"has_lied_browser",value:this.getHasLiedBrowser()}),a},fontsKey:function(a,b){return this.options.excludeJsFonts?this.flashFontsKey(a,b):this.jsFontsKey(a,b)},flashFontsKey:function(a,b){return this.options.excludeFlashFonts?b(a):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?void 0===this.options.swfPath?b(a):void this.loadSwfAndDetectFonts(function(c){a.addPreprocessedComponent({key:"swf_fonts",value:c.join(";")}),b(a)}):b(a)},jsFontsKey:function(a,b){var c=this;return setTimeout(function(){var d=["monospace","sans-serif","serif"],e=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],f=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"];c.options.extendedJsFonts&&(e=e.concat(f)),e=e.concat(c.options.userDefinedFonts);var g="mmmmmmmmmmlli",h="72px",i=document.getElementsByTagName("body")[0],j=document.createElement("div"),k=document.createElement("div"),l={},m={},n=function(){var a=document.createElement("span");return a.style.position="absolute",a.style.left="-9999px",a.style.fontSize=h,a.style.lineHeight="normal",a.innerHTML=g,a},o=function(a,b){var c=n();return c.style.fontFamily="'"+a+"',"+b,c},p=function(){for(var a=[],b=0,c=d.length;b<c;b++){var e=n();e.style.fontFamily=d[b],j.appendChild(e),a.push(e)}return a},q=function(){for(var a={},b=0,c=e.length;b<c;b++){for(var f=[],g=0,h=d.length;g<h;g++){var i=o(e[b],d[g]);k.appendChild(i),f.push(i)}a[e[b]]=f}return a},r=function(a){for(var b=!1,c=0;c<d.length;c++)if(b=a[c].offsetWidth!==l[d[c]]||a[c].offsetHeight!==m[d[c]])return b;return b},s=p();i.appendChild(j);for(var t=0,u=d.length;t<u;t++)l[d[t]]=s[t].offsetWidth,m[d[t]]=s[t].offsetHeight;var v=q();i.appendChild(k);for(var w=[],x=0,y=e.length;x<y;x++)r(v[e[x]])&&w.push(e[x]);i.removeChild(k),i.removeChild(j),a.addPreprocessedComponent({key:"js_fonts",value:w}),b(a)},1)},pluginsKey:function(a){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||a.addPreprocessedComponent({key:"ie_plugins",value:this.getIEPlugins()}):a.addPreprocessedComponent({key:"regular_plugins",value:this.getRegularPlugins()})),a},getRegularPlugins:function(){var a=[];if(navigator.plugins)for(var b=0,c=navigator.plugins.length;b<c;b++)navigator.plugins[b]&&a.push(navigator.plugins[b]);return this.pluginsShouldBeSorted()&&(a=a.sort(function(a,b){return a.name>b.name?1:a.name<b.name?-1:0})),this.map(a,function(a){var b=this.map(a,function(a){return[a.type,a.suffixes].join("~")}).join(",");return[a.name,a.description,b].join("::")},this)},getIEPlugins:function(){var a=[]
;if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){var b=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"];a=this.map(b,function(a){try{return new window.ActiveXObject(a),a}catch(b){return null}})}return navigator.plugins&&(a=a.concat(this.getRegularPlugins())),a},pluginsShouldBeSorted:function(){for(var a=!1,b=0,c=this.options.sortPluginsFor.length;b<c;b++){var d=this.options.sortPluginsFor[b];if(navigator.userAgent.match(d)){a=!0;break}}return a},touchSupportKey:function(a){return this.options.excludeTouchSupport||a.addPreprocessedComponent({key:"touch_support",value:this.getTouchSupport()}),a},hardwareConcurrencyKey:function(a){return this.options.excludeHardwareConcurrency||a.addPreprocessedComponent({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),a},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(a){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(a){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(a){return!0}},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var a=0,b=!1;void 0!==navigator.maxTouchPoints?a=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(a=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),b=!0}catch(c){}return[a,b,"ontouchstart"in window]},getCanvasFp:function(){var a=[],b=document.createElement("canvas");b.width=2e3,b.height=200,b.style.display="inline";var c=b.getContext("2d");return c.rect(0,0,10,10),c.rect(2,2,6,6),a.push("canvas winding:"+(!1===c.isPointInPath(5,5,"evenodd")?"yes":"no")),c.textBaseline="alphabetic",c.fillStyle="#f60",c.fillRect(125,1,62,20),c.fillStyle="#069",this.options.dontUseFakeFontInCanvas?c.font="11pt Arial":c.font="11pt no-real-font-123",c.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),c.fillStyle="rgba(102, 204, 0, 0.2)",c.font="18pt Arial",c.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),c.globalCompositeOperation="multiply",c.fillStyle="rgb(255,0,255)",c.beginPath(),c.arc(50,50,50,0,2*Math.PI,!0),c.closePath(),c.fill(),c.fillStyle="rgb(0,255,255)",c.beginPath(),c.arc(100,50,50,0,2*Math.PI,!0),c.closePath(),c.fill(),c.fillStyle="rgb(255,255,0)",c.beginPath(),c.arc(75,100,50,0,2*Math.PI,!0),c.closePath(),c.fill(),c.fillStyle="rgb(255,0,255)",c.arc(75,75,75,0,2*Math.PI,!0),c.arc(75,75,25,0,2*Math.PI,!0),c.fill("evenodd"),b.toDataURL&&a.push("canvas fp:"+b.toDataURL()),a.join("~")},getWebglFp:function(){var a,b=function(b){return a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),"["+b[0]+", "+b[1]+"]"},c=function(a){var b=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic");if(b){var c=a.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===c&&(c=2),c}return null};if(!(a=this.getWebglCanvas()))return null;var d=[],e="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",f="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",g=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,g);var h=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);a.bufferData(a.ARRAY_BUFFER,h,a.STATIC_DRAW),g.itemSize=3,g.numItems=3;var i=a.createProgram(),j=a.createShader(a.VERTEX_SHADER);a.shaderSource(j,e),a.compileShader(j);var k=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(k,f),a.compileShader(k),a.attachShader(i,j),a.attachShader(i,k),a.linkProgram(i),a.useProgram(i),i.vertexPosAttrib=a.getAttribLocation(i,"attrVertex"),i.offsetUniform=a.getUniformLocation(i,"uniformOffset"),a.enableVertexAttribArray(i.vertexPosArray),a.vertexAttribPointer(i.vertexPosAttrib,g.itemSize,a.FLOAT,!1,0,0),a.uniform2f(i.offsetUniform,1,1),a.drawArrays(a.TRIANGLE_STRIP,0,g.numItems);try{d.push(a.canvas.toDataURL())}catch(m){}d.push("extensions:"+(a.getSupportedExtensions()||[]).join(";")),d.push("webgl aliased line width range:"+b(a.getParameter(a.ALIASED_LINE_WIDTH_RANGE))),d.push("webgl aliased point size range:"+b(a.getParameter(a.ALIASED_POINT_SIZE_RANGE))),d.push("webgl alpha bits:"+a.getParameter(a.ALPHA_BITS)),d.push("webgl antialiasing:"+(a.getContextAttributes().antialias?"yes":"no")),d.push("webgl blue bits:"+a.getParameter(a.BLUE_BITS)),d.push("webgl depth bits:"+a.getParameter(a.DEPTH_BITS)),d.push("webgl green bits:"+a.getParameter(a.GREEN_BITS)),d.push("webgl max anisotropy:"+c(a)),d.push("webgl max combined texture image units:"+a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),d.push("webgl max cube map texture size:"+a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE)),d.push("webgl max fragment uniform vectors:"+a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS)),d.push("webgl max render buffer size:"+a.getParameter(a.MAX_RENDERBUFFER_SIZE)),d.push("webgl max texture image units:"+a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),d.push("webgl max texture size:"+a.getParameter(a.MAX_TEXTURE_SIZE)),d.push("webgl max varying vectors:"+a.getParameter(a.MAX_VARYING_VECTORS)),d.push("webgl max vertex attribs:"+a.getParameter(a.MAX_VERTEX_ATTRIBS)),d.push("webgl max vertex texture image units:"+a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),d.push("webgl max vertex uniform vectors:"+a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS)),d.push("webgl max viewport dims:"+b(a.getParameter(a.MAX_VIEWPORT_DIMS))),d.push("webgl red bits:"+a.getParameter(a.RED_BITS)),d.push("webgl renderer:"+a.getParameter(a.RENDERER)),d.push("webgl shading language version:"+a.getParameter(a.SHADING_LANGUAGE_VERSION)),d.push("webgl stencil bits:"+a.getParameter(a.STENCIL_BITS)),d.push("webgl vendor:"+a.getParameter(a.VENDOR)),d.push("webgl version:"+a.getParameter(a.VERSION));try{var l=a.getExtension("WEBGL_debug_renderer_info");l&&(d.push("webgl unmasked vendor:"+a.getParameter(l.UNMASKED_VENDOR_WEBGL)),d.push("webgl unmasked renderer:"+a.getParameter(l.UNMASKED_RENDERER_WEBGL)))}catch(m){}return a.getShaderPrecisionFormat?(d.push("webgl vertex shader high float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision),d.push("webgl vertex shader high float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).rangeMin),d.push("webgl vertex shader high float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).rangeMax),d.push("webgl vertex shader medium float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision),d.push("webgl vertex shader medium float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).rangeMin),d.push("webgl vertex shader medium float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).rangeMax),d.push("webgl vertex shader low float precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).precision),d.push("webgl vertex shader low float precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).rangeMin),d.push("webgl vertex shader low float precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_FLOAT).rangeMax),d.push("webgl fragment shader high float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision),d.push("webgl fragment shader high float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).rangeMin),d.push("webgl fragment shader high float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).rangeMax),d.push("webgl fragment shader medium float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision),d.push("webgl fragment shader medium float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).rangeMin),d.push("webgl fragment shader medium float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).rangeMax),d.push("webgl fragment shader low float precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).precision),d.push("webgl fragment shader low float precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).rangeMin),d.push("webgl fragment shader low float precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_FLOAT).rangeMax),d.push("webgl vertex shader high int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).precision),d.push("webgl vertex shader high int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).rangeMin),d.push("webgl vertex shader high int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_INT).rangeMax),d.push("webgl vertex shader medium int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).precision),d.push("webgl vertex shader medium int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).rangeMin),d.push("webgl vertex shader medium int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_INT).rangeMax),d.push("webgl vertex shader low int precision:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).precision),d.push("webgl vertex shader low int precision rangeMin:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).rangeMin),d.push("webgl vertex shader low int precision rangeMax:"+a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.LOW_INT).rangeMax),d.push("webgl fragment shader high int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).precision),d.push("webgl fragment shader high int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).rangeMin),d.push("webgl fragment shader high int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_INT).rangeMax),d.push("webgl fragment shader medium int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).precision),d.push("webgl fragment shader medium int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).rangeMin),d.push("webgl fragment shader medium int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_INT).rangeMax),d.push("webgl fragment shader low int precision:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).precision),d.push("webgl fragment shader low int precision rangeMin:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).rangeMin),d.push("webgl fragment shader low int precision rangeMax:"+a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.LOW_INT).rangeMax),d.join("~")):d.join("~")},getWebglVendorAndRenderer:function(){try{var a=this.getWebglCanvas(),b=a.getExtension("WEBGL_debug_renderer_info");return a.getParameter(b.UNMASKED_VENDOR_WEBGL)+"~"+a.getParameter(b.UNMASKED_RENDERER_WEBGL)}catch(c){return null}},getAdBlock:function(){var a=document.createElement("div");a.innerHTML="&nbsp;",a.className="adsbox";var b=!1;try{document.body.appendChild(a),b=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(a)}catch(c){b=!1}return b},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(a){return!0}return!1},getHasLiedResolution:function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},getHasLiedOs:function(){var a,b=navigator.userAgent.toLowerCase(),c=navigator.oscpu,d=navigator.platform.toLowerCase();a=b.indexOf("windows phone")>=0?"Windows Phone":b.indexOf("win")>=0?"Windows":b.indexOf("android")>=0?"Android":b.indexOf("linux")>=0?"Linux":b.indexOf("iphone")>=0||b.indexOf("ipad")>=0?"iOS":b.indexOf("mac")>=0?"Mac":"Other";if(("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows Phone"!==a&&"Android"!==a&&"iOS"!==a&&"Other"!==a)return!0;if(void 0!==c){if(c=c.toLowerCase(),c.indexOf("win")>=0&&"Windows"!==a&&"Windows Phone"!==a)return!0;if(c.indexOf("linux")>=0&&"Linux"!==a&&"Android"!==a)return!0;if(c.indexOf("mac")>=0&&"Mac"!==a&&"iOS"!==a)return!0;if((-1===c.indexOf("win")&&-1===c.indexOf("linux")&&-1===c.indexOf("mac"))!=("Other"===a))return!0}return d.indexOf("win")>=0&&"Windows"!==a&&"Windows Phone"!==a||((d.indexOf("linux")>=0||d.indexOf("android")>=0||d.indexOf("pike")>=0)&&"Linux"!==a&&"Android"!==a||((d.indexOf("mac")>=0||d.indexOf("ipad")>=0||d.indexOf("ipod")>=0||d.indexOf("iphone")>=0)&&"Mac"!==a&&"iOS"!==a||((-1===d.indexOf("win")&&-1===d.indexOf("linux")&&-1===d.indexOf("mac"))!=("Other"===a)||void 0===navigator.plugins&&"Windows"!==a&&"Windows Phone"!==a)))},getHasLiedBrowser:function(){var a,b=navigator.userAgent.toLowerCase(),c=navigator.productSub;if(("Chrome"===(a=b.indexOf("firefox")>=0?"Firefox":b.indexOf("opera")>=0||b.indexOf("opr")>=0?"Opera":b.indexOf("chrome")>=0?"Chrome":b.indexOf("safari")>=0?"Safari":b.indexOf("trident")>=0?"Internet Explorer":"Other")||"Safari"===a||"Opera"===a)&&"20030107"!==c)return!0;var d=eval.toString().length;if(37===d&&"Safari"!==a&&"Firefox"!==a&&"Other"!==a)return!0;if(39===d&&"Internet Explorer"!==a&&"Other"!==a)return!0;if(33===d&&"Chrome"!==a&&"Opera"!==a&&"Other"!==a)return!0;var e;try{throw"a"}catch(f){try{f.toSource(),e=!0}catch(g){e=!1}}return!(!e||"Firefox"===a||"Other"===a)},isCanvasSupported:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var a=this.getWebglCanvas();return!!window.WebGLRenderingContext&&!!a},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var a=document.createElement("div");a.setAttribute("id",this.options.swfContainerId),document.body.appendChild(a)},loadSwfAndDetectFonts:function(a){var b="___fp_swf_loaded";window[b]=function(b){a(b)};var c=this.options.swfContainerId;this.addFlashDivNode();var d={onReady:b},e={allowScriptAccess:"always",menu:"false"};window.swfobject.embedSWF(this.options.swfPath,c,"1","1","9.0.0",!1,d,e,{})},getWebglCanvas:function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(c){}return b||(b=null),b},each:function(a,b,c){if(null!==a)if(this.nativeForEach&&a.forEach===this.nativeForEach)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,e=a.length;d<e;d++)if(b.call(c,a[d],d,a)==={})return}else for(var f in a)if(a.hasOwnProperty(f)&&b.call(c,a[f],f,a)==={})return},map:function(a,b,c){var d=[];return null==a?d:this.nativeMap&&a.map===this.nativeMap?a.map(b,c):(this.each(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)},x64Add:function(a,b){a=[a[0]>>>16,65535&a[0],a[1]>>>16,65535&a[1]],b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];var c=[0,0,0,0];return c[3]+=a[3]+b[3],c[2]+=c[3]>>>16,c[3]&=65535,c[2]+=a[2]+b[2],c[1]+=c[2]>>>16,c[2]&=65535,c[1]+=a[1]+b[1],c[0]+=c[1]>>>16,c[1]&=65535,c[0]+=a[0]+b[0],c[0]&=65535,[c[0]<<16|c[1],c[2]<<16|c[3]]},x64Multiply:function(a,b){a=[a[0]>>>16,65535&a[0],a[1]>>>16,65535&a[1]],b=[b[0]>>>16,65535&b[0],b[1]>>>16,65535&b[1]];var c=[0,0,0,0];return c[3]+=a[3]*b[3],c[2]+=c[3]>>>16,c[3]&=65535,c[2]+=a[2]*b[3],c[1]+=c[2]>>>16,c[2]&=65535,c[2]+=a[3]*b[2],c[1]+=c[2]>>>16,c[2]&=65535,c[1]+=a[1]*b[3],c[0]+=c[1]>>>16,c[1]&=65535,c[1]+=a[2]*b[2],c[0]+=c[1]>>>16,c[1]&=65535,c[1]+=a[3]*b[1],c[0]+=c[1]>>>16,c[1]&=65535,c[0]+=a[0]*b[3]+a[1]*b[2]+a[2]*b[1]+a[3]*b[0],c[0]&=65535,[c[0]<<16|c[1],c[2]<<16|c[3]]},x64Rotl:function(a,b){return b%=64,32===b?[a[1],a[0]]:b<32?[a[0]<<b|a[1]>>>32-b,a[1]<<b|a[0]>>>32-b]:(b-=32,[a[1]<<b|a[0]>>>32-b,a[0]<<b|a[1]>>>32-b])},x64LeftShift:function(a,b){return b%=64,0===b?a:b<32?[a[0]<<b|a[1]>>>32-b,a[1]<<b]:[a[1]<<b-32,0]},x64Xor:function(a,b){return[a[0]^b[0],a[1]^b[1]]},x64Fmix:function(a){return a=this.x64Xor(a,[0,a[0]>>>1]),a=this.x64Multiply(a,[4283543511,3981806797]),a=this.x64Xor(a,[0,a[0]>>>1]),a=this.x64Multiply(a,[3301882366,444984403]),a=this.x64Xor(a,[0,a[0]>>>1])},x64hash128:function(a,b){a=a||"",b=b||0;for(var c=a.length%16,d=a.length-c,e=[0,b],f=[0,b],g=[0,0],h=[0,0],i=[2277735313,289559509],j=[1291169091,658871167],k=0;k<d;k+=16)g=[255&a.charCodeAt(k+4)|(255&a.charCodeAt(k+5))<<8|(255&a.charCodeAt(k+6))<<16|(255&a.charCodeAt(k+7))<<24,255&a.charCodeAt(k)|(255&a.charCodeAt(k+1))<<8|(255&a.charCodeAt(k+2))<<16|(255&a.charCodeAt(k+3))<<24],h=[255&a.charCodeAt(k+12)|(255&a.charCodeAt(k+13))<<8|(255&a.charCodeAt(k+14))<<16|(255&a.charCodeAt(k+15))<<24,255&a.charCodeAt(k+8)|(255&a.charCodeAt(k+9))<<8|(255&a.charCodeAt(k+10))<<16|(255&a.charCodeAt(k+11))<<24],g=this.x64Multiply(g,i),g=this.x64Rotl(g,31),g=this.x64Multiply(g,j),e=this.x64Xor(e,g),e=this.x64Rotl(e,27),e=this.x64Add(e,f),e=this.x64Add(this.x64Multiply(e,[0,5]),[0,1390208809]),h=this.x64Multiply(h,j),h=this.x64Rotl(h,33),h=this.x64Multiply(h,i),f=this.x64Xor(f,h),f=this.x64Rotl(f,31),f=this.x64Add(f,e),f=this.x64Add(this.x64Multiply(f,[0,5]),[0,944331445]);switch(g=[0,0],h=[0,0],c){case 15:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+14)],48));case 14:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+13)],40));case 13:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+12)],32));case 12:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+11)],24));case 11:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+10)],16));case 10:h=this.x64Xor(h,this.x64LeftShift([0,a.charCodeAt(k+9)],8));case 9:h=this.x64Xor(h,[0,a.charCodeAt(k+8)]),h=this.x64Multiply(h,j),h=this.x64Rotl(h,33),h=this.x64Multiply(h,i),f=this.x64Xor(f,h);case 8:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+7)],56));case 7:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+6)],48));case 6:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+5)],40));case 5:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+4)],32));case 4:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+3)],24));case 3:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+2)],16));case 2:g=this.x64Xor(g,this.x64LeftShift([0,a.charCodeAt(k+1)],8));case 1:g=this.x64Xor(g,[0,a.charCodeAt(k)]),g=this.x64Multiply(g,i),g=this.x64Rotl(g,31),g=this.x64Multiply(g,j),e=this.x64Xor(e,g)}return e=this.x64Xor(e,[0,a.length]),f=this.x64Xor(f,[0,a.length]),e=this.x64Add(e,f),f=this.x64Add(f,e),e=this.x64Fmix(e),f=this.x64Fmix(f),e=this.x64Add(e,f),f=this.x64Add(f,e),("00000000"+(e[0]>>>0).toString(16)).slice(-8)+("00000000"+(e[1]>>>0).toString(16)).slice(-8)+("00000000"+(f[0]>>>0).toString(16)).slice(-8)+("00000000"+(f[1]>>>0).toString(16)).slice(-8)}},a.VERSION="1.5.1",a});var TelemetrySyncManager={_teleData:[],init:function(){document.addEventListener("TelemetryEvent",this.sendTelemetry)},sendTelemetry:function(a){var b=a.detail;console.log("Telemetry Events ",b);var c=TelemetrySyncManager;c._teleData.push(Object.assign({},b)),("END"===b.eid.toUpperCase()||c._teleData.length>=Telemetry.config.batchsize)&&TelemetrySyncManager.syncEvents()},updateEventStack:function(a){TelemetrySyncManager._teleData=TelemetrySyncManager._teleData.concat(a)},syncEvents:function(){var a=EkTelemetry||a,b=TelemetrySyncManager,c=b._teleData.splice(0,a.config.batchsize),d={id:"ekstep.telemetry",ver:a._version,ets:(new Date).getTime(),events:c},e={};void 0!==a.config.authtoken&&(e.Authorization="Bearer "+a.config.authtoken);var f=a.config.host+a.config.apislug+a.config.endpoint;e.dataType="json",e["Content-Type"]="application/json",jQuery.ajax({url:f,type:"POST",headers:e,data:JSON.stringify(d)}).done(function(a){console.log("Telemetry API success",a)}).fail(function(a,d,e){b.updateEventStack(c),403==a.status?console.error("Authentication error: ",a):console.log("Error while Telemetry sync to server: ",a)})}};if("undefined"!=typeof document&&TelemetrySyncManager.init(),"function"==typeof require)var Ajv=require("ajv");var libraryDispatcher={dispatch:function(a){"undefined"!=typeof document?document.dispatchEvent(new CustomEvent("TelemetryEvent",{detail:a})):console.info("Library dispatcher supports only for client side.")}},EkTelemetry=function(){this.ektelemetry=function(){};var a=function(){},b=this;return this.ektelemetry.initialized=!1,this.ektelemetry.config={},this.ektelemetry._version="3.0",this.ektelemetry.fingerPrintId=void 0,this.dispatcher=libraryDispatcher,this._defaultValue={uid:"anonymous",authtoken:"",batchsize:20,host:"https://api.ekstep.in",endpoint:"/data/v3/telemetry",apislug:"/action"},this.telemetryEnvelop={eid:"",ets:"",ver:"",mid:"",actor:{},context:{},object:{},tags:[],edata:""},this._globalContext={channel:"in.ekstep",pdata:{id:"in.ekstep",ver:"1.0",pid:""},env:"contentplayer",sid:"",did:"",cdata:[],rollup:{}},this.runningEnv="client",this.enableValidation=!1,this._globalObject={},this.startData=[],void 0!==Ajv&&(this.ajv=new Ajv({schemas:telemetrySchema})),this.ektelemetry.initialize=function(b){a.init(b)},this.ektelemetry.start=function(c,d,e,f,g){f.duration=f.duration||(new Date).getTime(),d&&e&&(b._globalObject.id=d,b._globalObject.ver=e),!EkTelemetry.initialized&&c&&a.init(c,d,e),a.updateValues(g);var h=a.getEvent("START",f);a._dispatch(h),b.startData.push(JSON.parse(JSON.stringify(h)))},this.ektelemetry.impression=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("IMPRESSION",b))},this.ektelemetry.interact=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("INTERACT",b))},this.ektelemetry.assess=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("ASSESS",b))},this.ektelemetry.response=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("RESPONSE",b))},this.ektelemetry.interrupt=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("INTERRUPT",b))},this.ektelemetry.feedback=function(b,c){var d={rating:b.rating,comments:b.comments||""};a.updateValues(c),a._dispatch(a.getEvent("FEEDBACK",d))},this.ektelemetry.share=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("SHARE",b))},this.ektelemetry.audit=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("AUDIT",b))},this.ektelemetry.error=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("ERROR",b))},this.ektelemetry.heartbeat=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("HEARTBEAT",b))},this.ektelemetry.log=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("LOG",b))},this.ektelemetry.search=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("SEARCH",b))},this.ektelemetry.metrics=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("METRICS",b))},this.ektelemetry.exdata=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("EXDATA",b))},this.ektelemetry.summary=function(b,c){a.updateValues(c),a._dispatch(a.getEvent("SUMMARY",b))},this.ektelemetry.end=function(c,d){if(b.startData.length){var e=b.startData.pop();c.duration=(new Date).getTime()-e.ets,a.updateValues(d),a._dispatch(a.getEvent("END",c))}else console.info("Please invoke start before invoking end event.")},this.ektelemetry.isInitialized=function(){return EkTelemetry.initialized},this.ektelemetry.resetContext=function(a){b._currentContext=a||{}},this.ektelemetry.resetObject=function(a){b._currentObject=a||{}},this.ektelemetry.resetActor=function(a){b._currentActor=a||{}},this.ektelemetry.resetTags=function(a){b._currentTags=a||[]},this.ektelemetry.syncEvents=function(){void 0!==TelemetrySyncManager&&TelemetrySyncManager.syncEvents()},a.init=function(c,d,e){if(EkTelemetry.initialized)return void console.log("Telemetry is already initialized..");!c&&(c={}),d&&(b._globalObject.id=d),e&&(b._globalObject.ver=e),c.runningEnv&&(b.runningEnv=c.runningEnv),void 0!==c.enableValidation&&(b.enableValidation=c.enableValidation),c.batchsize=c.batchsize?c.batchsize<10?10:c.batchsize>1e3?1e3:c.batchsize:_defaultValue.batchsize,EkTelemetry.config=Object.assign(_defaultValue,c),EkTelemetry.initialized=!0,b.dispatcher=EkTelemetry.config.dispatcher?EkTelemetry.config.dispatcher:libraryDispatcher,a.updateConfigurations(c),console.info("Telemetry is initialized.")},a._dispatch=function(a){if(a.mid=a.eid+":"+CryptoJS.MD5(JSON.stringify(a)).toString(),b.enableValidation){var c=ajv.getSchema("http://api.ekstep.org/telemetry/"+a.eid.toLowerCase());if(!c(a))return void console.error("Invalid "+a.eid+" Event: "+ajv.errorsText(c.errors))}"client"===b.runningEnv?a.context.did?dispatcher.dispatch(a):EkTelemetry.fingerPrintId?(a.context.did=EkTelemetry.fingerPrintId,dispatcher.dispatch(a)):EkTelemetry.getFingerPrint(function(b,c){a.context.did=b,EkTelemetry.fingerPrintId=b,dispatcher.dispatch(a)}):dispatcher.dispatch(a)},a.getEvent=function(c,d){return b.telemetryEnvelop.eid=c,b.telemetryEnvelop.ets=(new Date).getTime(),b.telemetryEnvelop.ver=EkTelemetry._version,b.telemetryEnvelop.mid="",b.telemetryEnvelop.actor=Object.assign({},{id:EkTelemetry.config.uid||"anonymous",type:"User"},a.getUpdatedValue("actor")),b.telemetryEnvelop.context=Object.assign({},a.getGlobalContext(),a.getUpdatedValue("context")),b.telemetryEnvelop.object=Object.assign({},a.getGlobalObject(),a.getUpdatedValue("object")),b.telemetryEnvelop.tags=Object.assign([],EkTelemetry.config.tags,a.getUpdatedValue("tags")),b.telemetryEnvelop.edata=d,b.telemetryEnvelop},a.updateConfigurations=function(a){a.object&&(b._globalObject=a.object),a.channel&&(b._globalContext.channel=a.channel),a.env&&(b._globalContext.env=a.env),a.rollup&&(b._globalContext.rollup=a.rollup),a.sid&&(b._globalContext.sid=a.sid),a.did&&(b._globalContext.did=a.did),a.cdata&&(b._globalContext.cdata=a.cdata),a.pdata&&(b._globalContext.pdata=a.pdata)},a.getGlobalContext=function(){return b._globalContext},a.getGlobalObject=function(){return b._globalObject},a.updateValues=function(a){a&&(a.context&&(b._currentContext=a.context),a.object&&(b._currentObject=a.object),a.actor&&(b._currentActor=a.actor),a.tags&&(b._currentTags=a.tags),a.runningEnv&&(b.runningEnv=a.runningEnv))},a.getUpdatedValue=function(a){switch(a.toLowerCase()){case"context":return b._currentContext||{};case"object":return b._currentObject||{};case"actor":return b._currentActor||{};case"tags":return b._currentTags||[]}},a.objectAssign=function(){Object.assign=function(a){"use strict";if(null==a)throw new TypeError("Cannot convert undefined or null to object");a=Object(a);for(var b=1;b<arguments.length;b++){var c=arguments[b];if(null!=c)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}},this.ektelemetry.getFingerPrint=function(a){(new Fingerprint2).get(function(b,c){a&&a(b,c)})},"function"!=typeof Object.assign&&a.objectAssign(),this.ektelemetry}();Telemetry=$t=EkTelemetry,"undefined"!=typeof module&&(module.exports=Telemetry);